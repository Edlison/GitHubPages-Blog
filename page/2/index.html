<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Edlison</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Edlison">
<meta property="og:url" content="http://edlison.com/blog/page/2/index.html">
<meta property="og:site_name" content="Edlison">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Bolin Shen">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/blog/atom.xml" title="Edlison" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/blog/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Edlison</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog/" id="subtitle">coding...</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="ÊêúÁ¥¢"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://edlison.com/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-mlsec/KNN-ÊâãÂÜô‰ΩìÊï∞Â≠óÊï∞ÊçÆÈõÜ" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/05/17/mlsec/KNN-%E6%89%8B%E5%86%99%E4%BD%93%E6%95%B0%E5%AD%97%E6%95%B0%E6%8D%AE%E9%9B%86/" class="article-date">
  <time datetime="2020-05-17T08:37:20.000Z" itemprop="datePublished">2020-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/05/17/mlsec/KNN-%E6%89%8B%E5%86%99%E4%BD%93%E6%95%B0%E5%AD%97%E6%95%B0%E6%8D%AE%E9%9B%86/">mlsec/KNN-ÊâãÂÜô‰ΩìÊï∞Â≠óÊï∞ÊçÆÈõÜ</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="KNN-ÊâãÂÜô‰ΩìÊï∞Â≠óÊï∞ÊçÆÈõÜ"><a href="#KNN-ÊâãÂÜô‰ΩìÊï∞Â≠óÊï∞ÊçÆÈõÜ" class="headerlink" title="KNN-ÊâãÂÜô‰ΩìÊï∞Â≠óÊï∞ÊçÆÈõÜ"></a>KNN-ÊâãÂÜô‰ΩìÊï∞Â≠óÊï∞ÊçÆÈõÜ</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">digits = datasets.load_digits()</span><br><span class="line">X = digits.data</span><br><span class="line">X.shape</span><br></pre></td></tr></table></figure>




<pre><code>(1797, 64)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y = digits.target</span><br><span class="line">y.shape</span><br></pre></td></tr></table></figure>




<pre><code>(1797,)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">one = X[<span class="number">100</span>]</span><br><span class="line">one = one.reshape(<span class="number">8</span>, <span class="number">8</span>)</span><br><span class="line">one</span><br></pre></td></tr></table></figure>




<pre><code>array([[ 0.,  0.,  0.,  2., 13.,  0.,  0.,  0.],
       [ 0.,  0.,  0.,  8., 15.,  0.,  0.,  0.],
       [ 0.,  0.,  5., 16.,  5.,  2.,  0.,  0.],
       [ 0.,  0., 15., 12.,  1., 16.,  4.,  0.],
       [ 0.,  4., 16.,  2.,  9., 16.,  8.,  0.],
       [ 0.,  0., 10., 14., 16., 16.,  4.,  0.],
       [ 0.,  0.,  0.,  0., 13.,  8.,  0.,  0.],
       [ 0.,  0.,  0.,  0., 13.,  6.,  0.,  0.]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.imshow(one)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.image.AxesImage at 0x1a203a9ad0&gt;</code></pre><p><img src="data/output_5_1.png" alt="png"></p>
<h1 id="ÂàÜÁ¶ªËÆ≠ÁªÉÊµãËØïÈõÜ"><a href="#ÂàÜÁ¶ªËÆ≠ÁªÉÊµãËØïÈõÜ" class="headerlink" title="ÂàÜÁ¶ªËÆ≠ÁªÉÊµãËØïÈõÜ"></a>ÂàÜÁ¶ªËÆ≠ÁªÉÊµãËØïÈõÜ</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">train_test_split?</span><br></pre></td></tr></table></figure>


<pre><code>[0;31mSignature:[0m [0mtrain_test_split[0m[0;34m([0m[0;34m*[0m[0marrays[0m[0;34m,[0m [0;34m**[0m[0moptions[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0;31mDocstring:[0m
Split arrays or matrices into random train and test subsets

Quick utility that wraps input validation and
``next(ShuffleSplit().split(X, y))`` and application to input data
into a single call for splitting (and optionally subsampling) data in a
oneliner.

Read more in the :ref:`User Guide &lt;cross_validation&gt;`.

Parameters
----------
*arrays : sequence of indexables with same length / shape[0]
    Allowed inputs are lists, numpy arrays, scipy-sparse
    matrices or pandas dataframes.

test_size : float, int or None, optional (default=None)
    If float, should be between 0.0 and 1.0 and represent the proportion
    of the dataset to include in the test split. If int, represents the
    absolute number of test samples. If None, the value is set to the
    complement of the train size. If ``train_size`` is also None, it will
    be set to 0.25.

train_size : float, int, or None, (default=None)
    If float, should be between 0.0 and 1.0 and represent the
    proportion of the dataset to include in the train split. If
    int, represents the absolute number of train samples. If None,
    the value is automatically set to the complement of the test size.

random_state : int, RandomState instance or None, optional (default=None)
    If int, random_state is the seed used by the random number generator;
    If RandomState instance, random_state is the random number generator;
    If None, the random number generator is the RandomState instance used
    by `np.random`.

shuffle : boolean, optional (default=True)
    Whether or not to shuffle the data before splitting. If shuffle=False
    then stratify must be None.

stratify : array-like or None (default=None)
    If not None, data is split in a stratified fashion, using this as
    the class labels.

Returns
-------
splitting : list, length=2 * len(arrays)
    List containing train-test split of inputs.

    .. versionadded:: 0.16
        If the input is sparse, the output will be a
        ``scipy.sparse.csr_matrix``. Else, output type is the same as the
        input type.

Examples
--------
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from sklearn.model_selection import train_test_split
&gt;&gt;&gt; X, y = np.arange(10).reshape((5, 2)), range(5)
&gt;&gt;&gt; X
array([[0, 1],
       [2, 3],
       [4, 5],
       [6, 7],
       [8, 9]])
&gt;&gt;&gt; list(y)
[0, 1, 2, 3, 4]

&gt;&gt;&gt; X_train, X_test, y_train, y_test = train_test_split(
...     X, y, test_size=0.33, random_state=42)
...
&gt;&gt;&gt; X_train
array([[4, 5],
       [0, 1],
       [6, 7]])
&gt;&gt;&gt; y_train
[2, 0, 3]
&gt;&gt;&gt; X_test
array([[2, 3],
       [8, 9]])
&gt;&gt;&gt; y_test
[1, 4]

&gt;&gt;&gt; train_test_split(y, shuffle=False)
[[0, 1, 2], [3, 4]]
[0;31mFile:[0m      /Applications/anaconda3/lib/python3.7/site-packages/sklearn/model_selection/_split.py
[0;31mType:[0m      function</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.2</span>)</span><br><span class="line">print(X_train.shape)</span><br><span class="line">print(y_train.shape)</span><br><span class="line">print(X_test.shape)</span><br><span class="line">print(y_test.shape)</span><br></pre></td></tr></table></figure>

<pre><code>(1437, 64)
(1437,)
(360, 64)
(360,)</code></pre><h1 id="ÊµãËØï"><a href="#ÊµãËØï" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">KNNClf = KNeighborsClassifier(n_neighbors=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">KNNClf.fit(X_train, y_train)</span><br></pre></td></tr></table></figure>




<pre><code>KNeighborsClassifier(algorithm=&apos;auto&apos;, leaf_size=30, metric=&apos;minkowski&apos;,
                     metric_params=None, n_jobs=None, n_neighbors=3, p=2,
                     weights=&apos;uniform&apos;)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res = KNNClf.predict(X_test)</span><br><span class="line">res</span><br></pre></td></tr></table></figure>




<pre><code>array([3, 4, 8, 5, 5, 7, 0, 3, 1, 4, 7, 5, 5, 8, 0, 7, 4, 7, 1, 7, 9, 4,
       4, 7, 6, 1, 2, 9, 1, 3, 3, 3, 7, 0, 7, 0, 2, 8, 9, 1, 1, 5, 4, 8,
       9, 0, 4, 9, 4, 9, 7, 2, 7, 3, 3, 4, 1, 9, 9, 9, 0, 4, 0, 6, 1, 0,
       0, 3, 6, 2, 3, 2, 8, 5, 9, 3, 1, 1, 6, 9, 8, 1, 2, 3, 2, 6, 8, 8,
       4, 6, 8, 6, 3, 9, 2, 8, 3, 6, 5, 7, 1, 7, 3, 8, 8, 8, 0, 0, 9, 1,
       9, 8, 5, 1, 1, 0, 1, 6, 5, 1, 7, 6, 5, 7, 7, 2, 2, 7, 3, 1, 9, 5,
       9, 5, 5, 3, 8, 4, 9, 5, 4, 6, 0, 5, 4, 8, 6, 1, 2, 8, 0, 9, 0, 9,
       7, 9, 7, 0, 2, 8, 2, 4, 0, 6, 2, 6, 7, 5, 6, 3, 8, 8, 0, 3, 2, 0,
       6, 1, 0, 6, 0, 5, 9, 3, 3, 0, 4, 0, 4, 2, 4, 9, 0, 6, 7, 4, 6, 5,
       9, 7, 2, 2, 3, 3, 0, 3, 9, 4, 9, 8, 5, 6, 9, 0, 1, 3, 5, 0, 5, 1,
       6, 4, 6, 6, 6, 7, 9, 1, 0, 7, 6, 6, 7, 8, 0, 3, 8, 5, 6, 8, 1, 3,
       0, 3, 6, 0, 3, 5, 6, 7, 0, 6, 9, 7, 0, 0, 2, 1, 6, 6, 9, 1, 6, 9,
       8, 7, 0, 2, 5, 1, 8, 6, 4, 3, 8, 2, 9, 2, 8, 4, 6, 4, 8, 9, 3, 1,
       1, 5, 0, 7, 8, 2, 3, 8, 4, 7, 7, 7, 7, 9, 4, 1, 7, 0, 2, 9, 1, 8,
       2, 4, 1, 0, 7, 5, 6, 0, 7, 1, 1, 5, 7, 1, 1, 6, 5, 6, 2, 2, 3, 9,
       7, 5, 3, 1, 5, 9, 9, 2, 5, 1, 6, 8, 2, 2, 4, 2, 1, 0, 6, 1, 2, 9,
       7, 5, 3, 5, 6, 1, 8, 1])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y_test</span><br></pre></td></tr></table></figure>




<pre><code>array([3, 4, 8, 5, 5, 7, 0, 3, 1, 4, 7, 5, 5, 8, 0, 7, 4, 7, 1, 7, 9, 4,
       4, 7, 6, 1, 2, 9, 1, 3, 3, 3, 7, 0, 7, 0, 2, 8, 9, 1, 1, 5, 4, 8,
       9, 0, 4, 9, 4, 9, 7, 2, 7, 8, 3, 4, 1, 9, 9, 9, 0, 4, 0, 6, 1, 0,
       0, 3, 6, 2, 3, 2, 8, 5, 9, 3, 1, 1, 6, 9, 8, 1, 2, 3, 2, 6, 8, 8,
       4, 6, 8, 6, 3, 9, 2, 8, 3, 6, 5, 7, 1, 7, 9, 8, 8, 8, 0, 0, 9, 1,
       4, 8, 5, 1, 1, 0, 1, 6, 5, 1, 7, 6, 5, 7, 7, 2, 2, 7, 3, 1, 9, 5,
       9, 5, 5, 3, 8, 4, 9, 5, 4, 6, 0, 5, 4, 8, 6, 1, 2, 8, 0, 9, 0, 9,
       7, 9, 7, 0, 2, 8, 2, 4, 0, 6, 2, 6, 7, 5, 6, 3, 8, 8, 0, 3, 2, 0,
       6, 1, 0, 6, 0, 5, 9, 3, 3, 0, 4, 0, 4, 2, 4, 9, 0, 6, 7, 4, 6, 5,
       9, 7, 2, 2, 3, 3, 0, 3, 9, 4, 9, 8, 5, 6, 9, 0, 1, 3, 5, 0, 5, 1,
       6, 4, 6, 6, 6, 7, 9, 1, 0, 7, 6, 6, 7, 8, 0, 3, 8, 5, 6, 8, 1, 3,
       0, 3, 6, 0, 3, 5, 6, 7, 0, 6, 9, 7, 0, 0, 2, 1, 6, 6, 9, 1, 6, 9,
       8, 7, 0, 2, 5, 1, 8, 6, 4, 3, 8, 2, 9, 2, 8, 4, 6, 4, 8, 9, 3, 1,
       1, 5, 0, 7, 8, 2, 3, 8, 4, 7, 7, 7, 7, 7, 4, 1, 3, 0, 2, 9, 1, 8,
       2, 4, 1, 0, 7, 5, 6, 0, 7, 1, 1, 5, 7, 1, 1, 6, 5, 6, 2, 2, 3, 9,
       7, 5, 3, 1, 5, 9, 9, 2, 5, 1, 6, 8, 2, 2, 4, 2, 1, 0, 6, 1, 2, 9,
       7, 5, 3, 5, 6, 1, 8, 8])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">num = sum(res == y_test)</span><br><span class="line">num</span><br></pre></td></tr></table></figure>




<pre><code>354</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'accuracy '</span>, num / len(y_test))</span><br></pre></td></tr></table></figure>

<pre><code>accuracy  0.9833333333333333</code></pre><h4 id="‰ΩøÁî®sklearn‰∏≠Â∞ÅË£ÖÁöÑËÆ°ÁÆóÁ≤æÁ°ÆÂ∫¶ÁöÑÊñπÊ≥ï"><a href="#‰ΩøÁî®sklearn‰∏≠Â∞ÅË£ÖÁöÑËÆ°ÁÆóÁ≤æÁ°ÆÂ∫¶ÁöÑÊñπÊ≥ï" class="headerlink" title="‰ΩøÁî®sklearn‰∏≠Â∞ÅË£ÖÁöÑËÆ°ÁÆóÁ≤æÁ°ÆÂ∫¶ÁöÑÊñπÊ≥ï"></a>‰ΩøÁî®sklearn‰∏≠Â∞ÅË£ÖÁöÑËÆ°ÁÆóÁ≤æÁ°ÆÂ∫¶ÁöÑÊñπÊ≥ï</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score <span class="keyword">as</span> accuracy</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">accuracy(res, y_test)</span><br></pre></td></tr></table></figure>




<pre><code>0.9833333333333333</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://edlison.com/blog/2020/05/17/mlsec/KNN-%E6%89%8B%E5%86%99%E4%BD%93%E6%95%B0%E5%AD%97%E6%95%B0%E6%8D%AE%E9%9B%86/" data-id="ckaat5bo70000vaojc0re40jq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mlsec/KNN-È∏¢Â∞æËä±Êï∞ÊçÆÈõÜ" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/05/17/mlsec/KNN-%E9%B8%A2%E5%B0%BE%E8%8A%B1%E6%95%B0%E6%8D%AE%E9%9B%86/" class="article-date">
  <time datetime="2020-05-17T08:36:25.969Z" itemprop="datePublished">2020-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/05/17/mlsec/KNN-%E9%B8%A2%E5%B0%BE%E8%8A%B1%E6%95%B0%E6%8D%AE%E9%9B%86/">mlsec/KNN-È∏¢Â∞æËä±Êï∞ÊçÆÈõÜ</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="KNN-È∏¢Â∞æËä±Êï∞ÊçÆÈõÜ"><a href="#KNN-È∏¢Â∞æËä±Êï∞ÊçÆÈõÜ" class="headerlink" title="KNN-È∏¢Â∞æËä±Êï∞ÊçÆÈõÜ"></a>KNN-È∏¢Â∞æËä±Êï∞ÊçÆÈõÜ</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br></pre></td></tr></table></figure>

<h4 id="‰ΩøÁî®sklearnÊú¨Âú∞Êï∞ÊçÆÈõÜ‰∏≠ÁöÑÈ∏¢Â∞æËä±Êï∞ÊçÆÈõÜ"><a href="#‰ΩøÁî®sklearnÊú¨Âú∞Êï∞ÊçÆÈõÜ‰∏≠ÁöÑÈ∏¢Â∞æËä±Êï∞ÊçÆÈõÜ" class="headerlink" title="‰ΩøÁî®sklearnÊú¨Âú∞Êï∞ÊçÆÈõÜ‰∏≠ÁöÑÈ∏¢Â∞æËä±Êï∞ÊçÆÈõÜ"></a>‰ΩøÁî®sklearnÊú¨Âú∞Êï∞ÊçÆÈõÜ‰∏≠ÁöÑÈ∏¢Â∞æËä±Êï∞ÊçÆÈõÜ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iris = datasets.load_iris()</span><br><span class="line">iris.keys()</span><br></pre></td></tr></table></figure>




<pre><code>dict_keys([&apos;data&apos;, &apos;target&apos;, &apos;target_names&apos;, &apos;DESCR&apos;, &apos;feature_names&apos;, &apos;filename&apos;])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X = iris.data</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Y = iris.target</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.shape</span><br></pre></td></tr></table></figure>




<pre><code>(150, 4)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Y.shape</span><br></pre></td></tr></table></figure>




<pre><code>(150,)</code></pre><h1 id="ÊâãÂä®ÂàÜÁ¶ªÊµãËØïÊï∞ÊçÆ"><a href="#ÊâãÂä®ÂàÜÁ¶ªÊµãËØïÊï∞ÊçÆ" class="headerlink" title="ÊâãÂä®ÂàÜÁ¶ªÊµãËØïÊï∞ÊçÆ"></a>ÊâãÂä®ÂàÜÁ¶ªÊµãËØïÊï∞ÊçÆ</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shuffled_indexes = np.random.permutation(len(X))</span><br><span class="line">shuffled_indexes</span><br></pre></td></tr></table></figure>




<pre><code>array([ 47,  10, 144,  57, 135,  58,  36, 136,  73, 109,  64,  15, 104,
       143, 108,  83,  23, 126, 125, 131, 137,  22,  16,  29, 118,  31,
        33,  52,  32, 132,  45,  38,  78, 139,  30,  37,  61,  97, 122,
        56, 107,  66, 114,  87,  43,  76,  84,  79, 142,  70,  77,  42,
         7, 138, 141, 120, 129,  44,  24,  53, 116,  13,  91, 119,  93,
         6,  60,  50,  67,  20,  54,  71,  89,  68,  21, 133, 148,  81,
        25,  48, 130, 127,  28,  90,  82, 146, 100, 105,  80,  94,  14,
        55, 111, 106, 101, 103,  35,  99,   3,  26,  69, 124,  95,  96,
       140,  46,  19,  34,  75,  59,   1, 117, 121,  49, 110,   0, 115,
        72,   9,  18, 149,  40, 145,  92, 123,  51,   4,  11,  39,  85,
        62, 147, 102,  74,   2,  86,   8,  17,   5,  27, 112, 128,  12,
        65,  41, 134,  63,  88, 113,  98])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_ratio = <span class="number">0.2</span></span><br><span class="line">test_size = int(len(X) * test_ratio)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_indexes = shuffled_indexes[:test_size]</span><br><span class="line">train_indexes = shuffled_indexes[test_size:]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">X_train = X[train_indexes]</span><br><span class="line">Y_train = Y[train_indexes]</span><br><span class="line"></span><br><span class="line">X_test = X[test_indexes]</span><br><span class="line">Y_test = Y[test_indexes]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(X_train.shape);print(Y_train.shape);print(X_test.shape);print(Y_test.shape)</span><br></pre></td></tr></table></figure>

<pre><code>(120, 4)
(120,)
(30, 4)
(30,)</code></pre><h1 id="‰ΩøÁî®sklearnÂàÜÁ¶ª"><a href="#‰ΩøÁî®sklearnÂàÜÁ¶ª" class="headerlink" title="‰ΩøÁî®sklearnÂàÜÁ¶ª"></a>‰ΩøÁî®sklearnÂàÜÁ¶ª</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">train_test_split?</span><br></pre></td></tr></table></figure>


<pre><code>[0;31mSignature:[0m [0mtrain_test_split[0m[0;34m([0m[0;34m*[0m[0marrays[0m[0;34m,[0m [0;34m**[0m[0moptions[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0;31mDocstring:[0m
Split arrays or matrices into random train and test subsets

Quick utility that wraps input validation and
``next(ShuffleSplit().split(X, y))`` and application to input data
into a single call for splitting (and optionally subsampling) data in a
oneliner.

Read more in the :ref:`User Guide &lt;cross_validation&gt;`.

Parameters
----------
*arrays : sequence of indexables with same length / shape[0]
    Allowed inputs are lists, numpy arrays, scipy-sparse
    matrices or pandas dataframes.

test_size : float, int or None, optional (default=None)
    If float, should be between 0.0 and 1.0 and represent the proportion
    of the dataset to include in the test split. If int, represents the
    absolute number of test samples. If None, the value is set to the
    complement of the train size. If ``train_size`` is also None, it will
    be set to 0.25.

train_size : float, int, or None, (default=None)
    If float, should be between 0.0 and 1.0 and represent the
    proportion of the dataset to include in the train split. If
    int, represents the absolute number of train samples. If None,
    the value is automatically set to the complement of the test size.

random_state : int, RandomState instance or None, optional (default=None)
    If int, random_state is the seed used by the random number generator;
    If RandomState instance, random_state is the random number generator;
    If None, the random number generator is the RandomState instance used
    by `np.random`.

shuffle : boolean, optional (default=True)
    Whether or not to shuffle the data before splitting. If shuffle=False
    then stratify must be None.

stratify : array-like or None (default=None)
    If not None, data is split in a stratified fashion, using this as
    the class labels.

Returns
-------
splitting : list, length=2 * len(arrays)
    List containing train-test split of inputs.

    .. versionadded:: 0.16
        If the input is sparse, the output will be a
        ``scipy.sparse.csr_matrix``. Else, output type is the same as the
        input type.

Examples
--------
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from sklearn.model_selection import train_test_split
&gt;&gt;&gt; X, y = np.arange(10).reshape((5, 2)), range(5)
&gt;&gt;&gt; X
array([[0, 1],
       [2, 3],
       [4, 5],
       [6, 7],
       [8, 9]])
&gt;&gt;&gt; list(y)
[0, 1, 2, 3, 4]

&gt;&gt;&gt; X_train, X_test, y_train, y_test = train_test_split(
...     X, y, test_size=0.33, random_state=42)
...
&gt;&gt;&gt; X_train
array([[4, 5],
       [0, 1],
       [6, 7]])
&gt;&gt;&gt; y_train
[2, 0, 3]
&gt;&gt;&gt; X_test
array([[2, 3],
       [8, 9]])
&gt;&gt;&gt; y_test
[1, 4]

&gt;&gt;&gt; train_test_split(y, shuffle=False)
[[0, 1, 2], [3, 4]]
[0;31mFile:[0m      /Applications/anaconda3/lib/python3.7/site-packages/sklearn/model_selection/_split.py
[0;31mType:[0m      function</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X_train, X_test, Y_train, Y_test = train_test_split(X, Y, test_size=<span class="number">0.2</span>, random_state=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(X_train.shape)</span><br><span class="line">print(Y_train.shape)</span><br><span class="line">print(X_test.shape)</span><br><span class="line">print(Y_test.shape)</span><br></pre></td></tr></table></figure>

<pre><code>(120, 4)
(120,)
(30, 4)
(30,)</code></pre><h1 id="‰ΩøÁî®sklearn‰∏≠ÁöÑKNNÂàÜÁ¶ªÂô®ÊµãËØï"><a href="#‰ΩøÁî®sklearn‰∏≠ÁöÑKNNÂàÜÁ¶ªÂô®ÊµãËØï" class="headerlink" title="‰ΩøÁî®sklearn‰∏≠ÁöÑKNNÂàÜÁ¶ªÂô®ÊµãËØï"></a>‰ΩøÁî®sklearn‰∏≠ÁöÑKNNÂàÜÁ¶ªÂô®ÊµãËØï</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line">KNeighborsClassifier?</span><br></pre></td></tr></table></figure>


<pre><code>[0;31mInit signature:[0m
[0mKNeighborsClassifier[0m[0;34m([0m[0;34m[0m
[0;34m[0m    [0mn_neighbors[0m[0;34m=[0m[0;36m5[0m[0;34m,[0m[0;34m[0m
[0;34m[0m    [0mweights[0m[0;34m=[0m[0;34m&apos;uniform&apos;[0m[0;34m,[0m[0;34m[0m
[0;34m[0m    [0malgorithm[0m[0;34m=[0m[0;34m&apos;auto&apos;[0m[0;34m,[0m[0;34m[0m
[0;34m[0m    [0mleaf_size[0m[0;34m=[0m[0;36m30[0m[0;34m,[0m[0;34m[0m
[0;34m[0m    [0mp[0m[0;34m=[0m[0;36m2[0m[0;34m,[0m[0;34m[0m
[0;34m[0m    [0mmetric[0m[0;34m=[0m[0;34m&apos;minkowski&apos;[0m[0;34m,[0m[0;34m[0m
[0;34m[0m    [0mmetric_params[0m[0;34m=[0m[0;32mNone[0m[0;34m,[0m[0;34m[0m
[0;34m[0m    [0mn_jobs[0m[0;34m=[0m[0;32mNone[0m[0;34m,[0m[0;34m[0m
[0;34m[0m    [0;34m**[0m[0mkwargs[0m[0;34m,[0m[0;34m[0m
[0;34m[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0;31mDocstring:[0m     
Classifier implementing the k-nearest neighbors vote.

Read more in the :ref:`User Guide &lt;classification&gt;`.

Parameters
----------
n_neighbors : int, optional (default = 5)
    Number of neighbors to use by default for :meth:`kneighbors` queries.

weights : str or callable, optional (default = &apos;uniform&apos;)
    weight function used in prediction.  Possible values:

    - &apos;uniform&apos; : uniform weights.  All points in each neighborhood
      are weighted equally.
    - &apos;distance&apos; : weight points by the inverse of their distance.
      in this case, closer neighbors of a query point will have a
      greater influence than neighbors which are further away.
    - [callable] : a user-defined function which accepts an
      array of distances, and returns an array of the same shape
      containing the weights.

algorithm : {&apos;auto&apos;, &apos;ball_tree&apos;, &apos;kd_tree&apos;, &apos;brute&apos;}, optional
    Algorithm used to compute the nearest neighbors:

    - &apos;ball_tree&apos; will use :class:`BallTree`
    - &apos;kd_tree&apos; will use :class:`KDTree`
    - &apos;brute&apos; will use a brute-force search.
    - &apos;auto&apos; will attempt to decide the most appropriate algorithm
      based on the values passed to :meth:`fit` method.

    Note: fitting on sparse input will override the setting of
    this parameter, using brute force.

leaf_size : int, optional (default = 30)
    Leaf size passed to BallTree or KDTree.  This can affect the
    speed of the construction and query, as well as the memory
    required to store the tree.  The optimal value depends on the
    nature of the problem.

p : integer, optional (default = 2)
    Power parameter for the Minkowski metric. When p = 1, this is
    equivalent to using manhattan_distance (l1), and euclidean_distance
    (l2) for p = 2. For arbitrary p, minkowski_distance (l_p) is used.

metric : string or callable, default &apos;minkowski&apos;
    the distance metric to use for the tree.  The default metric is
    minkowski, and with p=2 is equivalent to the standard Euclidean
    metric. See the documentation of the DistanceMetric class for a
    list of available metrics.
    If metric is &quot;precomputed&quot;, X is assumed to be a distance matrix and
    must be square during fit. X may be a :term:`Glossary &lt;sparse graph&gt;`,
    in which case only &quot;nonzero&quot; elements may be considered neighbors.

metric_params : dict, optional (default = None)
    Additional keyword arguments for the metric function.

n_jobs : int or None, optional (default=None)
    The number of parallel jobs to run for neighbors search.
    ``None`` means 1 unless in a :obj:`joblib.parallel_backend` context.
    ``-1`` means using all processors. See :term:`Glossary &lt;n_jobs&gt;`
    for more details.
    Doesn&apos;t affect :meth:`fit` method.

Attributes
----------
classes_ : array of shape (n_classes,)
    Class labels known to the classifier

effective_metric_ : string or callble
    The distance metric used. It will be same as the `metric` parameter
    or a synonym of it, e.g. &apos;euclidean&apos; if the `metric` parameter set to
    &apos;minkowski&apos; and `p` parameter set to 2.

effective_metric_params_ : dict
    Additional keyword arguments for the metric function. For most metrics
    will be same with `metric_params` parameter, but may also contain the
    `p` parameter value if the `effective_metric_` attribute is set to
    &apos;minkowski&apos;.

outputs_2d_ : bool
    False when `y`&apos;s shape is (n_samples, ) or (n_samples, 1) during fit
    otherwise True.

Examples
--------
&gt;&gt;&gt; X = [[0], [1], [2], [3]]
&gt;&gt;&gt; y = [0, 0, 1, 1]
&gt;&gt;&gt; from sklearn.neighbors import KNeighborsClassifier
&gt;&gt;&gt; neigh = KNeighborsClassifier(n_neighbors=3)
&gt;&gt;&gt; neigh.fit(X, y)
KNeighborsClassifier(...)
&gt;&gt;&gt; print(neigh.predict([[1.1]]))
[0]
&gt;&gt;&gt; print(neigh.predict_proba([[0.9]]))
[[0.66666667 0.33333333]]

See also
--------
RadiusNeighborsClassifier
KNeighborsRegressor
RadiusNeighborsRegressor
NearestNeighbors

Notes
-----
See :ref:`Nearest Neighbors &lt;neighbors&gt;` in the online documentation
for a discussion of the choice of ``algorithm`` and ``leaf_size``.

.. warning::

   Regarding the Nearest Neighbors algorithms, if it is found that two
   neighbors, neighbor `k+1` and `k`, have identical distances
   but different labels, the results will depend on the ordering of the
   training data.

https://en.wikipedia.org/wiki/K-nearest_neighbor_algorithm
[0;31mFile:[0m           /Applications/anaconda3/lib/python3.7/site-packages/sklearn/neighbors/_classification.py
[0;31mType:[0m           ABCMeta
[0;31mSubclasses:[0m     </code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">KNNClf = KNeighborsClassifier(n_neighbors=<span class="number">3</span>)</span><br><span class="line">KNNClf.fit(X_train, Y_train)</span><br></pre></td></tr></table></figure>




<pre><code>KNeighborsClassifier(algorithm=&apos;auto&apos;, leaf_size=30, metric=&apos;minkowski&apos;,
                     metric_params=None, n_jobs=None, n_neighbors=3, p=2,
                     weights=&apos;uniform&apos;)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res = KNNClf.predict(X_test)</span><br><span class="line">res</span><br></pre></td></tr></table></figure>




<pre><code>array([0, 1, 1, 0, 2, 1, 2, 0, 0, 2, 1, 0, 2, 1, 1, 0, 1, 1, 0, 0, 1, 1,
       1, 0, 2, 1, 0, 0, 1, 2])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Y_test</span><br></pre></td></tr></table></figure>




<pre><code>array([0, 1, 1, 0, 2, 1, 2, 0, 0, 2, 1, 0, 2, 1, 1, 0, 1, 1, 0, 0, 1, 1,
       1, 0, 2, 1, 0, 0, 1, 2])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acc = sum(res == Y_test)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'accuracy '</span>, acc / len(Y_test))</span><br></pre></td></tr></table></figure>

<pre><code>accuracy  1.0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://edlison.com/blog/2020/05/17/mlsec/KNN-%E9%B8%A2%E5%B0%BE%E8%8A%B1%E6%95%B0%E6%8D%AE%E9%9B%86/" data-id="ckaat5boe0002vaojg8iybnjo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mlsec/KNN-ÊâãÂä®ÂÆûÁé∞" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/05/17/mlsec/KNN-%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2020-05-17T08:34:34.000Z" itemprop="datePublished">2020-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/05/17/mlsec/KNN-%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0/">mlsec/KNN-ÊâãÂä®ÂÆûÁé∞</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ÊâãÂä®ÂÆûÁé∞KNN"><a href="#ÊâãÂä®ÂÆûÁé∞KNN" class="headerlink" title="ÊâãÂä®ÂÆûÁé∞KNN"></a>ÊâãÂä®ÂÆûÁé∞KNN</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">raw_data_x = [[<span class="number">3.393533211</span>, <span class="number">2.331273381</span>],</span><br><span class="line">              [<span class="number">3.110073483</span>, <span class="number">1.781539638</span>],</span><br><span class="line">              [<span class="number">1.343808831</span>, <span class="number">3.368360954</span>],</span><br><span class="line">              [<span class="number">3.582294042</span>, <span class="number">4.679179110</span>],</span><br><span class="line">              [<span class="number">2.280362439</span>, <span class="number">2.866990263</span>],</span><br><span class="line">              [<span class="number">7.423436942</span>, <span class="number">4.696522875</span>],</span><br><span class="line">              [<span class="number">5.745051997</span>, <span class="number">3.533989803</span>],</span><br><span class="line">              [<span class="number">9.172168622</span>, <span class="number">2.511101045</span>],</span><br><span class="line">              [<span class="number">7.792783481</span>, <span class="number">3.424088941</span>],</span><br><span class="line">              [<span class="number">7.939820817</span>, <span class="number">0.791637231</span>]</span><br><span class="line">             ]</span><br><span class="line">raw_data_y = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x_train = np.array(raw_data_x)</span><br><span class="line">y_train = np.array(raw_data_y)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x_train</span><br></pre></td></tr></table></figure>




<pre><code>array([[3.39353321, 2.33127338],
       [3.11007348, 1.78153964],
       [1.34380883, 3.36836095],
       [3.58229404, 4.67917911],
       [2.28036244, 2.86699026],
       [7.42343694, 4.69652288],
       [5.745052  , 3.5339898 ],
       [9.17216862, 2.51110105],
       [7.79278348, 3.42408894],
       [7.93982082, 0.79163723]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y_train==<span class="number">1</span></span><br></pre></td></tr></table></figure>




<pre><code>array([False, False, False, False, False,  True,  True,  True,  True,
        True])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(x_train[y_train==<span class="number">1</span>, <span class="number">0</span>], x_train[y_train==<span class="number">1</span>, <span class="number">1</span>], color=<span class="string">'r'</span>, label=<span class="string">'1'</span>)</span><br><span class="line">plt.scatter(x_train[y_train==<span class="number">0</span>, <span class="number">0</span>], x_train[y_train==<span class="number">0</span>, <span class="number">1</span>], color=<span class="string">'g'</span>, label=<span class="string">'0'</span>)</span><br><span class="line">plt.legend()</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.legend.Legend at 0x122311ad0&gt;</code></pre><p><img src="data/output_6_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">8.093607318</span>, <span class="number">3.365731514</span>])</span><br><span class="line"></span><br><span class="line">plt.scatter(x_train[y_train==<span class="number">1</span>, <span class="number">0</span>], x_train[y_train==<span class="number">1</span>, <span class="number">1</span>], color=<span class="string">'r'</span>, label=<span class="string">'1'</span>)</span><br><span class="line">plt.scatter(x_train[y_train==<span class="number">0</span>, <span class="number">0</span>], x_train[y_train==<span class="number">0</span>, <span class="number">1</span>], color=<span class="string">'g'</span>, label=<span class="string">'0'</span>)</span><br><span class="line">plt.scatter(x[<span class="number">0</span>], x[<span class="number">1</span>], color=<span class="string">'b'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="data/output_7_0.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line">distance = []</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> x_train:</span><br><span class="line">    d = math.sqrt(np.sum((each - x) ** <span class="number">2</span>))</span><br><span class="line">    distance.append(d)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">distance</span><br></pre></td></tr></table></figure>




<pre><code>[4.812566907609877,
 5.229270827235305,
 6.749798999160064,
 4.6986266144110695,
 5.83460014556857,
 1.4900114024329525,
 2.354574897431513,
 1.3761132675144652,
 0.3064319992975,
 2.5786840957478887]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">distances = [math.sqrt(np.sum((each - x) ** <span class="number">2</span>)) <span class="keyword">for</span> each <span class="keyword">in</span> x_train]</span><br><span class="line">distances</span><br></pre></td></tr></table></figure>




<pre><code>[4.812566907609877,
 5.229270827235305,
 6.749798999160064,
 4.6986266144110695,
 5.83460014556857,
 1.4900114024329525,
 2.354574897431513,
 1.3761132675144652,
 0.3064319992975,
 2.5786840957478887]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nearest = np.argsort(distances)</span><br><span class="line">nearest</span><br></pre></td></tr></table></figure>




<pre><code>array([8, 7, 5, 6, 9, 3, 0, 1, 4, 2])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">k = <span class="number">6</span></span><br><span class="line">topK_y = [y_train[i] <span class="keyword">for</span> i <span class="keyword">in</span> nearest[:k]]</span><br><span class="line">topK_y</span><br></pre></td></tr></table></figure>




<pre><code>[1, 1, 1, 1, 1, 0]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line">votes = collections.Counter(topK_y)</span><br><span class="line">votes</span><br></pre></td></tr></table></figure>




<pre><code>Counter({1: 5, 0: 1})</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">votes.most_common(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>




<pre><code>[(1, 5)]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">predict_y = votes.most_common(<span class="number">1</span>)[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">predict_y</span><br></pre></td></tr></table></figure>




<pre><code>1</code></pre><h1 id="scikit-learnÂÆûÁé∞KNN"><a href="#scikit-learnÂÆûÁé∞KNN" class="headerlink" title="scikit-learnÂÆûÁé∞KNN"></a>scikit-learnÂÆûÁé∞KNN</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">raw_data_x = [[<span class="number">3.393533211</span>, <span class="number">2.331273381</span>],</span><br><span class="line">              [<span class="number">3.110073483</span>, <span class="number">1.781539638</span>],</span><br><span class="line">              [<span class="number">1.343808831</span>, <span class="number">3.368360954</span>],</span><br><span class="line">              [<span class="number">3.582294042</span>, <span class="number">4.679179110</span>],</span><br><span class="line">              [<span class="number">2.280362439</span>, <span class="number">2.866990263</span>],</span><br><span class="line">              [<span class="number">7.423436942</span>, <span class="number">4.696522875</span>],</span><br><span class="line">              [<span class="number">5.745051997</span>, <span class="number">3.533989803</span>],</span><br><span class="line">              [<span class="number">9.172168622</span>, <span class="number">2.511101045</span>],</span><br><span class="line">              [<span class="number">7.792783481</span>, <span class="number">3.424088941</span>],</span><br><span class="line">              [<span class="number">7.939820817</span>, <span class="number">0.791637231</span>]</span><br><span class="line">             ]</span><br><span class="line">raw_data_y = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">x_train = np.array(raw_data_x)</span><br><span class="line">y_train = np.array(raw_data_y)</span><br><span class="line"></span><br><span class="line">target = np.array([<span class="number">8.093607318</span>, <span class="number">3.365731514</span>])</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">KNN_classifier = KNeighborsClassifier(n_neighbors=<span class="number">6</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">KNN_classifier.fit(x_train, y_train)</span><br></pre></td></tr></table></figure>




<pre><code>KNeighborsClassifier(algorithm=&apos;auto&apos;, leaf_size=30, metric=&apos;minkowski&apos;,
                     metric_params=None, n_jobs=None, n_neighbors=6, p=2,
                     weights=&apos;uniform&apos;)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">target = x.reshape(<span class="number">1</span>, <span class="number">-1</span>)</span><br><span class="line">print(target)</span><br></pre></td></tr></table></figure>

<pre><code>[[8.09360732 3.36573151]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">KNN_classifier.predict(target)</span><br></pre></td></tr></table></figure>




<pre><code>array([1])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res = KNN_classifier.predict(target)</span><br><span class="line">res[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>




<pre><code>1</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://edlison.com/blog/2020/05/17/mlsec/KNN-%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0/" data-id="ckaat5bof0003vaojca7q50d5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mlsec/Python-Êï∞ÊçÆÊé¢Á¥¢‰πãÂèØËßÜÂåñÂàÜÊûê" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/05/17/mlsec/Python-%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2%E4%B9%8B%E5%8F%AF%E8%A7%86%E5%8C%96%E5%88%86%E6%9E%90/" class="article-date">
  <time datetime="2020-05-17T08:28:04.000Z" itemprop="datePublished">2020-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/05/17/mlsec/Python-%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2%E4%B9%8B%E5%8F%AF%E8%A7%86%E5%8C%96%E5%88%86%E6%9E%90/">mlsec/Python-Êï∞ÊçÆÊé¢Á¥¢‰πãÂèØËßÜÂåñÂàÜÊûê</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Python-Êï∞ÊçÆÂèØËßÜÂåñÂàÜÊûê"><a href="#Python-Êï∞ÊçÆÂèØËßÜÂåñÂàÜÊûê" class="headerlink" title="Python Êï∞ÊçÆÂèØËßÜÂåñÂàÜÊûê"></a>Python Êï∞ÊçÆÂèØËßÜÂåñÂàÜÊûê</h2><hr>
<h4 id="‰ªãÁªç"><a href="#‰ªãÁªç" class="headerlink" title="‰ªãÁªç"></a>‰ªãÁªç</h4><p>Âú®Êú∫Âô®Â≠¶‰π†È¢ÜÂüü‰∏≠ÔºåÂèØËßÜÂåñÊòØÂçÅÂàÜÈáçË¶ÅÁöÑ„ÄÇÂú®ÂºÄÂßã‰∏ÄÈ°πÊñ∞‰ªªÂä°Êó∂ÔºåÈÄöËøáÂèØËßÜÂåñÊâãÊÆµÊé¢Á¥¢Êï∞ÊçÆËÉΩÊõ¥Â•ΩÂú∞Â∏ÆÂä©‰∫∫‰ª¨ÊääÊè°Êï∞ÊçÆÁöÑË¶ÅÁÇπ„ÄÇÂú®ÂàÜÊûêÊ®°ÂûãË°®Áé∞ÂíåÊ®°ÂûãÊä•ÂëäÁöÑÁªìÊûúÊó∂ÔºåÂèØËßÜÂåñËÉΩ‰ΩøÂàÜÊûêÊòæÂæóÊõ¥Âä†ÁîüÂä®È≤úÊòé„ÄÇÊúâÊó∂ÂÄôÔºå‰∏∫‰∫ÜÁêÜËß£Â§çÊùÇÁöÑÊ®°ÂûãÔºåÊàë‰ª¨ËøòÂèØ‰ª•Â∞ÜÈ´òÁª¥Á©∫Èó¥Êò†Â∞Ñ‰∏∫ËßÜËßâ‰∏äÊõ¥Áõ¥ËßÇÁöÑ‰∫åÁª¥Êàñ‰∏âÁª¥ÂõæÂΩ¢„ÄÇ</p>
<p>ÊÄªËÄåË®Ä‰πãÔºåÂèØËßÜÂåñÊòØ‰∏Ä‰∏™Áõ∏ÂØπÂø´Êç∑ÁöÑ‰ªéÊï∞ÊçÆ‰∏≠ÊåñÊéò‰ø°ÊÅØÁöÑÊâãÊÆµ„ÄÇÊú¨ÊñáÂ∞Ü‰ΩøÁî® Pandas„ÄÅMatplotlib„ÄÅseaborn Á≠âÊµÅË°åÁöÑÂ∫ìÔºåÂ∏¶‰Ω†‰∏äÊâãÂèØËßÜÂåñ„ÄÇ</p>
<h4 id="Áü•ËØÜÁÇπ"><a href="#Áü•ËØÜÁÇπ" class="headerlink" title="Áü•ËØÜÁÇπ"></a>Áü•ËØÜÁÇπ</h4><ul>
<li>ÂçïÂèòÈáèÂèØËßÜÂåñÁöÑÂ∏∏Áî®ÊñπÊ≥ï</li>
<li>Â§öÂèòÈáèÂèØËßÜÂåñÁöÑÂ∏∏Áî®ÊñπÊ≥ï</li>
<li>t-SNE</li>
</ul>
<h3 id="Êï∞ÊçÆÈõÜ"><a href="#Êï∞ÊçÆÈõÜ" class="headerlink" title="Êï∞ÊçÆÈõÜ"></a>Êï∞ÊçÆÈõÜ</h3><p>È¶ñÂÖà‰ΩøÁî® <code>import</code> ËΩΩÂÖ•Áõ∏ÂÖ≥‰æùËµñ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line">sns.set()</span><br></pre></td></tr></table></figure>

<p>Âú®Á¨¨‰∏ÄÁØáÊñáÁ´†‰∏≠ÔºåÊàë‰ª¨‰ΩøÁî®ÁöÑÊòØÊüêÁîµ‰ø°ËøêËê•ÂïÜÁöÑÂÆ¢Êà∑Á¶ªÁΩëÊï∞ÊçÆÈõÜÔºåÊú¨Ê¨°ÂÆûÈ™å‰ªçÊóß‰ΩøÁî®Ëøô‰∏™Êï∞ÊçÆÈõÜ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(<span class="string">'./data/telecom_churn.csv'</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>Total eve calls</th>
      <th>Total eve charge</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>KS</td>
      <td>128</td>
      <td>415</td>
      <td>No</td>
      <td>Yes</td>
      <td>25</td>
      <td>265.1</td>
      <td>110</td>
      <td>45.07</td>
      <td>197.4</td>
      <td>99</td>
      <td>16.78</td>
      <td>244.7</td>
      <td>91</td>
      <td>11.01</td>
      <td>10.0</td>
      <td>3</td>
      <td>2.70</td>
      <td>1</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>OH</td>
      <td>107</td>
      <td>415</td>
      <td>No</td>
      <td>Yes</td>
      <td>26</td>
      <td>161.6</td>
      <td>123</td>
      <td>27.47</td>
      <td>195.5</td>
      <td>103</td>
      <td>16.62</td>
      <td>254.4</td>
      <td>103</td>
      <td>11.45</td>
      <td>13.7</td>
      <td>3</td>
      <td>3.70</td>
      <td>1</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NJ</td>
      <td>137</td>
      <td>415</td>
      <td>No</td>
      <td>No</td>
      <td>0</td>
      <td>243.4</td>
      <td>114</td>
      <td>41.38</td>
      <td>121.2</td>
      <td>110</td>
      <td>10.30</td>
      <td>162.6</td>
      <td>104</td>
      <td>7.32</td>
      <td>12.2</td>
      <td>5</td>
      <td>3.29</td>
      <td>0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OH</td>
      <td>84</td>
      <td>408</td>
      <td>Yes</td>
      <td>No</td>
      <td>0</td>
      <td>299.4</td>
      <td>71</td>
      <td>50.90</td>
      <td>61.9</td>
      <td>88</td>
      <td>5.26</td>
      <td>196.9</td>
      <td>89</td>
      <td>8.86</td>
      <td>6.6</td>
      <td>7</td>
      <td>1.78</td>
      <td>2</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OK</td>
      <td>75</td>
      <td>415</td>
      <td>Yes</td>
      <td>No</td>
      <td>0</td>
      <td>166.7</td>
      <td>113</td>
      <td>28.34</td>
      <td>148.3</td>
      <td>122</td>
      <td>12.61</td>
      <td>186.9</td>
      <td>121</td>
      <td>8.41</td>
      <td>10.1</td>
      <td>3</td>
      <td>2.73</td>
      <td>3</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>



<p>ÊúÄÂêé‰∏Ä‰∏™Êï∞ÊçÆÂàó Churn Á¶ªÁΩëÁéá ÊòØÊàë‰ª¨ÁöÑÁõÆÊ†áÁâπÂæÅÔºåÂÆÉÊòØÂ∏ÉÂ∞îÂèòÈáèÔºåÂÖ∂‰∏≠ True Ë°®Á§∫ÂÖ¨Âè∏ÊúÄÁªà‰∏¢Â§±‰∫ÜÊ≠§ÂÆ¢Êà∑ÔºåFalse Ë°®Á§∫ÂÆ¢Êà∑Ë¢´‰øùÁïô„ÄÇÁ®çÂêéÔºåÂ∞ÜÊûÑÂª∫Âü∫‰∫éÂÖ∂‰ªñÁâπÂæÅÈ¢ÑÊµã Churn ÁâπÂæÅÁöÑÊ®°Âûã„ÄÇ </p>
<h3 id="ÂçïÂèòÈáèÂèØËßÜÂåñ"><a href="#ÂçïÂèòÈáèÂèØËßÜÂåñ" class="headerlink" title="ÂçïÂèòÈáèÂèØËßÜÂåñ"></a>ÂçïÂèòÈáèÂèØËßÜÂåñ</h3><p>ÂçïÂèòÈáèÔºàunivariateÔºâÂàÜÊûê‰∏ÄÊ¨°Âè™ÂÖ≥Ê≥®‰∏Ä‰∏™ÂèòÈáè„ÄÇÂΩìÊàë‰ª¨Áã¨Á´ãÂú∞ÂàÜÊûê‰∏Ä‰∏™ÁâπÂæÅÊó∂ÔºåÈÄöÂ∏∏ÊúÄÂÖ≥ÂøÉÁöÑÊòØËØ•ÁâπÂæÅÂÄºÁöÑÂàÜÂ∏ÉÊÉÖÂÜµ„ÄÇ‰∏ãÈù¢ËÄÉËôë‰∏çÂêåÁªüËÆ°Á±ªÂûãÁöÑÂèòÈáèÔºå‰ª•ÂèäÁõ∏Â∫îÁöÑÂèØËßÜÂåñÂ∑•ÂÖ∑„ÄÇ</p>
<h4 id="Êï∞ÈáèÁâπÂæÅ"><a href="#Êï∞ÈáèÁâπÂæÅ" class="headerlink" title="Êï∞ÈáèÁâπÂæÅ"></a>Êï∞ÈáèÁâπÂæÅ</h4><p>Êï∞ÈáèÁâπÂæÅÔºàquantitative featureÔºâÁöÑÂÄº‰∏∫ÊúâÂ∫èÊï∞ÂÄº„ÄÇËøô‰∫õÂÄºÂèØËÉΩÊòØÁ¶ªÊï£ÁöÑÔºå‰æãÂ¶ÇÊï¥Êï∞Ôºå‰πüÂèØËÉΩÊòØËøûÁª≠ÁöÑÔºå‰æãÂ¶ÇÂÆûÊï∞„ÄÇ</p>
<h4 id="Áõ¥ÊñπÂõæÂíåÂØÜÂ∫¶Âõæ"><a href="#Áõ¥ÊñπÂõæÂíåÂØÜÂ∫¶Âõæ" class="headerlink" title="Áõ¥ÊñπÂõæÂíåÂØÜÂ∫¶Âõæ"></a>Áõ¥ÊñπÂõæÂíåÂØÜÂ∫¶Âõæ</h4><p>Áõ¥ÊñπÂõæ‰æùÁÖßÁõ∏Á≠âÁöÑÈó¥ÈöîÂ∞ÜÂÄºÂàÜÁªÑ‰∏∫Êü±ÔºåÂÆÉÁöÑÂΩ¢Áä∂ÂèØËÉΩÂåÖÂê´‰∫ÜÊï∞ÊçÆÂàÜÂ∏ÉÁöÑ‰∏Ä‰∫õ‰ø°ÊÅØÔºåÂ¶ÇÈ´òÊñØÂàÜÂ∏É„ÄÅÊåáÊï∞ÂàÜÂ∏ÉÁ≠â„ÄÇÂΩìÂàÜÂ∏ÉÊÄª‰ΩìÂëàÁé∞ËßÑÂæãÊÄßÔºå‰ΩÜÊúâ‰∏™Âà´ÂºÇÂ∏∏ÂÄºÊó∂Ôºå‰Ω†ÂèØ‰ª•ÈÄöËøáÁõ¥ÊñπÂõæËæ®ËÆ§Âá∫Êù•„ÄÇÂΩì‰Ω†‰ΩøÁî®ÁöÑÊú∫Âô®Â≠¶‰π†ÊñπÊ≥ïÈ¢ÑËÆæ‰∫ÜÊüê‰∏ÄÁâπÂÆöÂàÜÂ∏ÉÁ±ªÂûãÔºàÈÄöÂ∏∏ÊòØÈ´òÊñØÂàÜÂ∏ÉÔºâÊó∂ÔºåÁü•ÈÅìÁâπÂæÅÂÄºÁöÑÂàÜÂ∏ÉÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑ„ÄÇ</p>
<p>ÊúÄÁÆÄÂçïÁöÑÊü•ÁúãÊï∞ÂÄºÂèòÈáèÂàÜÂ∏ÉÁöÑÊñπÊ≥ïÊòØ‰ΩøÁî® DataFrame ÁöÑ <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.hist.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>hist()</code></i></a> ÊñπÊ≥ïÁªòÂà∂Áõ¥ÊñπÂõæ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">features = [<span class="string">'Total day minutes'</span>, <span class="string">'Total intl calls'</span>]</span><br><span class="line">df[features].hist(figsize = (<span class="number">10</span>, <span class="number">4</span>))</span><br></pre></td></tr></table></figure>




<pre><code>array([[&lt;matplotlib.axes._subplots.AxesSubplot object at 0x12e3076d0&gt;,
        &lt;matplotlib.axes._subplots.AxesSubplot object at 0x12f4cbe90&gt;]],
      dtype=object)</code></pre><p><img src="data/output_21_1.png" alt="png"></p>
<p>‰∏äÂõæË°®ÊòéÔºåÂèòÈáè Total day minutes ÊØèÊó•ÈÄöËØùÊó∂Èïø ÂëàÈ´òÊñØÂàÜÂ∏ÉÔºåËÄå Total intl calls ÊÄªÂõΩÈôÖÂëºÂè´Êï∞ ÊòæËëóÂè≥ÂÄæÔºàÂÆÉÂè≥‰æßÁöÑÂ∞æÂ∑¥Êõ¥ÈïøÔºâ„ÄÇ</p>
<p>ÂØÜÂ∫¶ÂõæÔºàdensity plotsÔºâÔºå‰πüÂè´Ê†∏ÂØÜÂ∫¶ÂõæÔºà <a href="https://en.wikipedia.org/wiki/Kernel_density_estimation" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> kernel density estimate</i></a>ÔºåKDEÔºâÊòØÁêÜËß£Êï∞ÂÄºÂèòÈáèÂàÜÂ∏ÉÁöÑÂè¶‰∏Ä‰∏™ÊñπÊ≥ï„ÄÇÂÆÉÂèØ‰ª•ÁúãÊàêÊòØÁõ¥ÊñπÂõæÂπ≥ÊªëÔºà <a href="https://en.wikipedia.org/wiki/Kernel_smoother" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> smoothed</i></a> ÔºâÁöÑÁâàÊú¨„ÄÇÁõ∏ÊØîÁõ¥ÊñπÂõæÔºåÂÆÉÁöÑ‰∏ªË¶Å‰ºòÂäøÊòØ‰∏ç‰æùËµñ‰∫éÊü±ÁöÑÂ∞∫ÂØ∏ÔºåÊõ¥Âä†Ê∏ÖÊô∞„ÄÇ</p>
<p>ËÆ©Êàë‰ª¨‰∏∫‰∏äÈù¢‰∏§‰∏™ÂèòÈáèÂàõÂª∫ÂØÜÂ∫¶Âõæ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df[features].plot(kind=<span class="string">'density'</span>, subplots=<span class="literal">True</span>, layout=(<span class="number">1</span>,<span class="number">2</span>),</span><br><span class="line">                 sharex=<span class="literal">False</span>, figsize=(<span class="number">10</span>, <span class="number">4</span>), legend=<span class="literal">False</span>, title=features)</span><br></pre></td></tr></table></figure>




<pre><code>array([[&lt;matplotlib.axes._subplots.AxesSubplot object at 0x133bcc050&gt;,
        &lt;matplotlib.axes._subplots.AxesSubplot object at 0x1343f1ad0&gt;]],
      dtype=object)</code></pre><p><img src="data/output_25_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.distplot(df[<span class="string">'Total day calls'</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12e4f8810&gt;</code></pre><p><img src="data/output_26_1.png" alt="png"></p>
<p>ÂΩìÁÑ∂ÔºåËøòÂèØ‰ª•‰ΩøÁî® seaborn ÁöÑ <a href="https://seaborn.pydata.org/generated/seaborn.distplot.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>distplot()</code></i></a> ÊñπÊ≥ïËßÇÊµãÊï∞ÂÄºÂèòÈáèÁöÑÂàÜÂ∏É„ÄÇ‰æãÂ¶ÇÔºåTotal day minutes ÊØèÊó•ÈÄöËØùÊó∂Èïø ÁöÑÂàÜÂ∏É„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËØ•ÊñπÊ≥ïÂ∞ÜÂêåÊó∂ÊòæÁ§∫Áõ¥ÊñπÂõæÂíåÂØÜÂ∫¶Âõæ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.distplot(df[<span class="string">'Total intl calls'</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12e5134d0&gt;</code></pre><p><img src="data/output_28_1.png" alt="png"></p>
<p>‰∏äÂõæ‰∏≠Áõ¥ÊñπÂõæÁöÑÊü±ÂΩ¢È´òÂ∫¶Â∑≤ËøõË°åÂΩí‰∏ÄÂåñÂ§ÑÁêÜÔºåË°®Á§∫ÁöÑÊòØÂØÜÂ∫¶ËÄå‰∏çÊòØÊ†∑Êú¨Êï∞„ÄÇ</p>
<h4 id="ÁÆ±ÂûãÂõæ"><a href="#ÁÆ±ÂûãÂõæ" class="headerlink" title="ÁÆ±ÂûãÂõæ"></a>ÁÆ±ÂûãÂõæ</h4><p>ÁÆ±ÂΩ¢ÂõæÁöÑ‰∏ªË¶ÅÁªÑÊàêÈÉ®ÂàÜÊòØÁÆ±Â≠êÔºàboxÔºâÔºåÈ°ªÔºàwhiskerÔºâÂíå‰∏Ä‰∫õÂçïÁã¨ÁöÑÊï∞ÊçÆÁÇπÔºàÁ¶ªÁæ§ÂÄºÔºâÔºåÂàÜÂà´ÁÆÄÂçï‰ªãÁªçÂ¶Ç‰∏ãÔºö</p>
<ul>
<li>ÁÆ±Â≠êÊòæÁ§∫‰∫ÜÂàÜÂ∏ÉÁöÑÂõõÂàÜ‰ΩçË∑ùÔºåÂÆÉÁöÑÈïøÂ∫¶Áî± $25th , Ôºà\text{Q1Ôºå‰∏ãÂõõÂàÜ‰ΩçÊï∞}Ôºâ$ Âíå $75th , Ôºà\text{Q3Ôºå‰∏äÂõõÂàÜ‰ΩçÊï∞}Ôºâ$ ÂÜ≥ÂÆöÔºåÁÆ±‰∏≠ÁöÑÊ∞¥Âπ≥Á∫øË°®Á§∫‰∏≠‰ΩçÊï∞  Ôºà$50%$Ôºâ„ÄÇ</li>
<li>È°ªÊòØ‰ªéÁÆ±Â≠êÂ§ÑÂª∂‰º∏Âá∫Êù•ÁöÑÁ∫øÔºåÂÆÉ‰ª¨Ë°®Á§∫Êï∞ÊçÆÁÇπÁöÑÊÄª‰ΩìÊï£Â∏ÉÔºåÂÖ∑‰ΩìËÄåË®ÄÔºåÊòØ‰Ωç‰∫éÂå∫Èó¥ $Ôºà\text{Q1} - 1.5 \cdot \text{IQR}, \text{Q3} + 1.5 \cdot \text{IQR}Ôºâ$ÁöÑÊï∞ÊçÆÁÇπÔºåÂÖ∂‰∏≠ $\text{IQR} = \text{Q3} - \text{Q1}$Ôºå‰πüÂ∞±ÊòØÂõõÂàÜ‰ΩçË∑ù„ÄÇ</li>
<li>Á¶ªÁæ§ÂÄºÊòØÈ°ª‰πãÂ§ñÁöÑÊï∞ÊçÆÁÇπÔºåÂÆÉ‰ª¨‰Ωú‰∏∫ÂçïÁã¨ÁöÑÊï∞ÊçÆÁÇπÔºåÊ≤øÁùÄ‰∏≠ËΩ¥ÁªòÂà∂„ÄÇ</li>
</ul>
<p>‰ΩøÁî® seaborn ÁöÑ <code>boxplot()</code> ÊñπÊ≥ïÁªòÂà∂ÁÆ±ÂΩ¢Âõæ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.boxplot(df[<span class="string">'Total intl calls'</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12e6e1750&gt;</code></pre><p><img src="data/output_34_1.png" alt="png"></p>
<p>‰∏äÂõæË°®ÊòéÔºåÂú®ËØ•Êï∞ÊçÆÈõÜ‰∏≠ÔºåÂ§ßÈáèÁöÑÂõΩÈôÖÂëºÂè´ÊòØÁõ∏ÂΩìÂ∞ëËßÅÁöÑ„ÄÇ</p>
<h4 id="ÊèêÁê¥ÂΩ¢Âõæ"><a href="#ÊèêÁê¥ÂΩ¢Âõæ" class="headerlink" title="ÊèêÁê¥ÂΩ¢Âõæ"></a>ÊèêÁê¥ÂΩ¢Âõæ</h4><p>Êàë‰ª¨ÊúÄÂêéËÄÉËôëÁöÑÂàÜÂ∏ÉÂõæÂΩ¢ÊòØÊèêÁê¥ÂΩ¢ÂõæÔºàviolin plotÔºâ„ÄÇÊèêÁê¥ÂΩ¢ÂõæÂíåÁÆ±ÂΩ¢ÂõæÁöÑÂå∫Âà´ÊòØÔºåÊèêÁê¥ÂΩ¢ÂõæËÅöÁÑ¶‰∫éÂπ≥ÊªëÂêéÁöÑÊï¥‰ΩìÂàÜÂ∏ÉÔºåËÄåÁÆ±ÂΩ¢ÂõæÊòæÁ§∫‰∫ÜÂçïÁã¨Ê†∑Êú¨ÁöÑÁâπÂÆöÁªüËÆ°Êï∞ÊçÆ„ÄÇ</p>
<p>‰ΩøÁî® <code>violinplot()</code> ÊñπÊ≥ïÁªòÂà∂ÊèêÁê¥ÂΩ¢Âõæ„ÄÇ‰∏ãÂõæÂ∑¶‰æßÊòØÁÆ±ÂΩ¢ÂõæÔºåÂè≥‰æßÊòØÊèêÁê¥ÂΩ¢Âõæ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">_, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, sharey=<span class="literal">True</span>, figsize=(<span class="number">10</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">sns.boxplot(df[<span class="string">'Total intl calls'</span>], ax=ax[<span class="number">0</span>])</span><br><span class="line">sns.violinplot(df[<span class="string">'Total intl calls'</span>], ax=ax[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1380219d0&gt;</code></pre><p><img src="data/output_39_1.png" alt="png"></p>
<h4 id="Êï∞ÊçÆÊèèËø∞"><a href="#Êï∞ÊçÆÊèèËø∞" class="headerlink" title="Êï∞ÊçÆÊèèËø∞"></a>Êï∞ÊçÆÊèèËø∞</h4><p>Èô§ÂõæÂΩ¢Â∑•ÂÖ∑Â§ñÔºåËøòÂèØ‰ª•‰ΩøÁî® DataFrame ÁöÑ <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.describe.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>describe()</code></i></a> ÊñπÊ≥ïÊù•Ëé∑ÂèñÂàÜÂ∏ÉÁöÑÁ≤æÁ°ÆÊï∞ÂÄºÁªüËÆ°„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[features].describe()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Total day minutes</th>
      <th>Total intl calls</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>3333.000000</td>
      <td>3333.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>179.775098</td>
      <td>4.479448</td>
    </tr>
    <tr>
      <th>std</th>
      <td>54.467389</td>
      <td>2.461214</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>143.700000</td>
      <td>3.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>179.400000</td>
      <td>4.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>216.400000</td>
      <td>6.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>350.800000</td>
      <td>20.000000</td>
    </tr>
  </tbody>
</table>
</div>



<p><code>describe()</code> ÁöÑËæìÂá∫Âü∫Êú¨‰∏äÊòØËá™Ëß£ÈáäÊÄßÁöÑÔºå25%Ôºå50% Âíå 75% ÊòØÁõ∏Â∫îÁöÑÁôæÂàÜÊï∞ <a href="https://en.wikipedia.org/wiki/Percentile" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> percentiles</i></a>„ÄÇ</p>
<h4 id="Á±ªÂà´ÁâπÂæÅÂíå‰∫åÂÖÉÁâπÂæÅ"><a href="#Á±ªÂà´ÁâπÂæÅÂíå‰∫åÂÖÉÁâπÂæÅ" class="headerlink" title="Á±ªÂà´ÁâπÂæÅÂíå‰∫åÂÖÉÁâπÂæÅ"></a>Á±ªÂà´ÁâπÂæÅÂíå‰∫åÂÖÉÁâπÂæÅ</h4><p>Á±ªÂà´ÁâπÂæÅÔºàcategorical features takeÔºâÂèçÊò†‰∫ÜÊ†∑Êú¨ÁöÑÊüê‰∏™ÂÆöÊÄßÂ±ûÊÄßÔºåÂÆÉÂÖ∑ÊúâÂõ∫ÂÆöÊï∞ÁõÆÁöÑÂÄºÔºåÊØè‰∏™ÂÄºÂ∞Ü‰∏Ä‰∏™ËßÇÊµãÊï∞ÊçÆÂàÜÈÖçÂà∞Áõ∏Â∫îÁöÑÁªÑÔºåËøô‰∫õÁªÑÁß∞‰∏∫Á±ªÂà´ÔºàcategoryÔºâ„ÄÇÂ¶ÇÊûúÁ±ªÂà´ÂèòÈáèÁöÑÂÄºÂÖ∑ÊúâÈ°∫Â∫èÔºåÁß∞‰∏∫ÊúâÂ∫èÔºàordinalÔºâÁ±ªÂà´ÂèòÈáè„ÄÇ</p>
<p>‰∫åÂÖÉÔºàbinaryÔºâÁâπÂæÅÊòØÁ±ªÂà´ÁâπÂæÅÁöÑÁâπ‰æãÔºåÂÖ∂ÂèØËÉΩÂÄºÊúâ 2 ‰∏™„ÄÇ</p>
<h4 id="È¢ëÁéáË°®"><a href="#È¢ëÁéáË°®" class="headerlink" title="È¢ëÁéáË°®"></a>È¢ëÁéáË°®</h4><p>ËÆ©Êàë‰ª¨Êü•Áúã‰∏Ä‰∏ãÁõÆÊ†áÂèòÈáè Churn Á¶ªÁΩëÁéá ÁöÑÂàÜÂ∏ÉÊÉÖÂÜµ„ÄÇÈ¶ñÂÖàÔºå‰ΩøÁî® <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.value_counts.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>value_counts()</code></i></a> ÊñπÊ≥ïÂæóÂà∞‰∏ÄÂº†È¢ëÁéáË°®„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'Churn'</span>].value_counts()</span><br></pre></td></tr></table></figure>




<pre><code>False    2850
True      483
Name: Churn, dtype: int64</code></pre><p>‰∏äË°®ÊòæÁ§∫ÔºåËØ•Êï∞ÊçÆÈõÜÁöÑ Churn Êúâ 2850 ‰∏™Â±û‰∫é FalseÔºàChurn==0ÔºâÔºåÊúâ 483 ‰∏™Â±û‰∫é TrueÔºàChurn==1ÔºâÔºåÊï∞ÊçÆÈõÜ‰∏≠Âø†ÂÆûÂÆ¢Êà∑ÔºàChurn==0ÔºâÂíå‰∏çÂø†ÂÆûÂÆ¢Êà∑ÔºàChurn==1ÔºâÁöÑÊØî‰æãÂπ∂‰∏çÁõ∏Á≠â„ÄÇÊàë‰ª¨Â∞ÜÂú®‰ª•ÂêéÁöÑÊñáÁ´†‰∏≠ÁúãÂà∞ÔºåËøôÁßçÊï∞ÊçÆ‰∏çÂπ≥Ë°°ÁöÑÊÉÖÂÜµ‰ºöÂØºËá¥Âª∫Á´ãÁöÑÂàÜÁ±ªÊ®°ÂûãÂ≠òÂú®‰∏ÄÂÆöÁöÑÈóÆÈ¢ò„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊûÑÂª∫ÂàÜÁ±ªÊ®°ÂûãÂèØËÉΩÈúÄË¶ÅÂä†ÈáçÂØπ„ÄåÂ∞ëÊï∞Êï∞ÊçÆÔºàÂú®ËøôÈáåÊòØ Churn==1ÔºâÂàÜÁ±ªÈîôËØØ„ÄçËøô‰∏ÄÊÉÖÂÜµÁöÑÊÉ©ÁΩö„ÄÇ</p>
<h4 id="Êù°ÂΩ¢Âõæ"><a href="#Êù°ÂΩ¢Âõæ" class="headerlink" title="Êù°ÂΩ¢Âõæ"></a>Êù°ÂΩ¢Âõæ</h4><p>È¢ëÁéáË°®ÁöÑÂõæÂΩ¢ÂåñË°®Á§∫ÊòØÊù°ÂΩ¢Âõæ„ÄÇÂàõÂª∫Êù°ÂΩ¢ÂõæÊúÄÁÆÄÂçïÁöÑÊñπÊ≥ïÊòØ‰ΩøÁî® seaborn ÁöÑ <a href="https://seaborn.pydata.org/generated/seaborn.countplot.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>countplot()</code></i></a> ÂáΩÊï∞„ÄÇËÆ©Êàë‰ª¨Êù•ÁîªÂá∫‰∏§‰∏™ÂàÜÁ±ªÂèòÈáèÁöÑÂàÜÂ∏É„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=[<span class="number">10</span>, <span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">sns.countplot(df[<span class="string">'Churn'</span>], ax=ax[<span class="number">0</span>])</span><br><span class="line">sns.countplot(df[<span class="string">'Customer service calls'</span>], ax=ax[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1382242d0&gt;</code></pre><p><img src="data/output_53_1.png" alt="png"></p>
<p>Êù°ÂΩ¢ÂõæÂíåÁõ¥ÊñπÂõæÁöÑÂå∫Âà´Â¶Ç‰∏ãÔºö</p>
<ul>
<li>Áõ¥ÊñπÂõæÈÄÇÂêàÊü•ÁúãÊï∞ÂÄºÂèòÈáèÁöÑÂàÜÂ∏ÉÔºåËÄåÊù°ÂΩ¢ÂõæÁî®‰∫éÊü•ÁúãÁ±ªÂà´ÁâπÂæÅ„ÄÇ</li>
<li>Áõ¥ÊñπÂõæÁöÑ X ËΩ¥ÊòØÊï∞ÂÄºÔºõÊù°ÂΩ¢ÂõæÁöÑ X ËΩ¥ÂèØËÉΩÊòØ‰ªª‰ΩïÁ±ªÂûãÔºåÂ¶ÇÊï∞Â≠ó„ÄÅÂ≠óÁ¨¶‰∏≤„ÄÅÂ∏ÉÂ∞îÂÄº„ÄÇ</li>
<li>Áõ¥ÊñπÂõæÁöÑ X ËΩ¥ÊòØ‰∏Ä‰∏™Á¨õÂç°Â∞îÂùêÊ†áËΩ¥ÔºõÊù°ÂΩ¢ÂõæÁöÑÈ°∫Â∫èÂàôÊ≤°Êúâ‰∫ãÂÖàÂÆö‰πâ„ÄÇ</li>
</ul>
<p>‰∏äÂ∑¶ÂõæÊ∏ÖÊô∞Âú∞Ë°®Êòé‰∫ÜÁõÆÊ†áÂèòÈáèÁöÑÂ§±Ë°°ÊÄß„ÄÇ‰∏äÂè≥ÂõæÂàôË°®ÊòéÂ§ßÈÉ®ÂàÜÂÆ¢Êà∑ÊúÄÂ§öÊâì‰∫Ü 2-3 ‰∏™ÂÆ¢ÊúçÁîµËØùÂ∞±Ëß£ÂÜ≥‰∫Ü‰ªñ‰ª¨ÁöÑÈóÆÈ¢ò„ÄÇ‰∏çËøáÔºåÊó¢ÁÑ∂ÊÉ≥Ë¶ÅÈ¢ÑÊµãÂ∞ëÊï∞Êï∞ÊçÆÁöÑÂàÜÁ±ªÔºàChurn==1ÔºâÔºåÊàë‰ª¨ÂèØËÉΩÂØπÂ∞ëÊï∞‰∏çÊª°ÊÑèÁöÑÂÆ¢Êà∑ÁöÑË°®Áé∞Êõ¥ÊÑüÂÖ¥Ë∂£„ÄÇÊâÄ‰ª•ËÆ©Êàë‰ª¨Â∞ùËØï‰∏Ä‰∏ãÊõ¥ÊúâË∂£ÁöÑÂèØËßÜÂåñÊñπÊ≥ïÔºöÂ§öÂèòÈáèÂèØËßÜÂåñÔºåÁúãËÉΩÂê¶ÂØπÈ¢ÑÊµãÊúâÊâÄÂ∏ÆÂä©„ÄÇ</p>
<h3 id="Â§öÂèòÈáèÂèØËßÜÂåñ"><a href="#Â§öÂèòÈáèÂèØËßÜÂåñ" class="headerlink" title="Â§öÂèòÈáèÂèØËßÜÂåñ"></a>Â§öÂèòÈáèÂèØËßÜÂåñ</h3><p>Â§öÂèòÈáèÔºàmultivariateÔºâÂõæÂΩ¢ÂèØ‰ª•Âú®ÂçïÂº†ÂõæÂÉè‰∏≠Êü•Áúã‰∏§‰∏™‰ª•‰∏äÂèòÈáèÁöÑËÅîÁ≥ªÔºåÂíåÂçïÂèòÈáèÂõæÂΩ¢‰∏ÄÊ†∑ÔºåÂèØËßÜÂåñÁöÑÁ±ªÂûãÂèñÂÜ≥‰∫éÂ∞ÜË¶ÅÂàÜÊûêÁöÑÂèòÈáèÁöÑÁ±ªÂûã„ÄÇ</p>
<p>ÂÖàÊù•ÁúãÁúãÊï∞ÈáèÂèòÈáè‰πãÈó¥ÁöÑÁõ∏‰∫í‰ΩúÁî®„ÄÇ</p>
<h4 id="Áõ∏ÂÖ≥Áü©Èòµ"><a href="#Áõ∏ÂÖ≥Áü©Èòµ" class="headerlink" title="Áõ∏ÂÖ≥Áü©Èòµ"></a>Áõ∏ÂÖ≥Áü©Èòµ</h4><p>Áõ∏ÂÖ≥Áü©ÈòµÂèØÊè≠Á§∫Êï∞ÊçÆÈõÜ‰∏≠ÁöÑÊï∞ÂÄºÂèòÈáèÁöÑÁõ∏ÂÖ≥ÊÄß„ÄÇËøô‰∏Ä‰ø°ÊÅØÂæàÈáçË¶ÅÔºåÂõ†‰∏∫Êúâ‰∏Ä‰∫õÊú∫Âô®Â≠¶‰π†ÁÆóÊ≥ïÔºàÊØîÂ¶ÇÔºåÁ∫øÊÄßÂõûÂΩíÂíåÈÄªËæëÂõûÂΩíÔºâ‰∏çËÉΩÂæàÂ•ΩÂú∞Â§ÑÁêÜÈ´òÂ∫¶Áõ∏ÂÖ≥ÁöÑËæìÂÖ•ÂèòÈáè„ÄÇ</p>
<p>È¶ñÂÖàÔºåÊàë‰ª¨‰ΩøÁî® DataFrame ÁöÑ <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.corr.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>corr()</code></i></a> ÊñπÊ≥ïËÆ°ÁÆóÂá∫ÊØèÂØπÁâπÂæÅÈó¥ÁöÑÁõ∏ÂÖ≥ÊÄß„ÄÇÊé•ÁùÄÔºåÊàë‰ª¨Â∞ÜÊâÄÂæóÁöÑÁõ∏ÂÖ≥Áü©ÈòµÔºàcorrelation matrixÔºâ‰º†Áªô seaborn ÁöÑ <a href="https://seaborn.pydata.org/generated/seaborn.heatmap.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>heatmap()</code></i></a>ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÊ†πÊçÆÊèê‰æõÁöÑÊï∞ÂÄºÔºåÊ∏≤ÊüìÂá∫‰∏Ä‰∏™Âü∫‰∫éËâ≤ÂΩ©ÁºñÁ†ÅÁöÑÁü©Èòµ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">numerical = list(set(df.columns) - set([<span class="string">'State'</span>, <span class="string">'International plan'</span>, <span class="string">'Voice mail plan'</span>, <span class="string">'Area code'</span>, <span class="string">'Churn'</span>, <span class="string">'Customer service calls'</span>]))</span><br><span class="line"></span><br><span class="line">corr = df[numerical].corr()</span><br><span class="line">sns.heatmap(corr)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1388bad50&gt;</code></pre><p><img src="data/output_63_1.png" alt="png"></p>
<p>‰∏äÂõæ‰∏≠ÔºåTotal day charge Êó•ËØùË¥πÊÄªÈ¢ù ÊòØÁõ¥Êé•Âü∫‰∫é Total day minutes ÁîµËØùÁöÑÂàÜÈíüÊï∞ ËÆ°ÁÆóÂæóÂà∞ÔºåÂÆÉË¢´Áß∞‰∏∫Âõ†ÂèòÈáè„ÄÇÈô§‰∫Ü Total day charege Â§ñÔºåËøòÊúâ 3 ‰∏™Âõ†ÂèòÈáèÔºöTotal eve chargeÔºåTotal night chargeÔºåTotal intl charge„ÄÇËøô 4 ‰∏™Âõ†ÂèòÈáèÂπ∂‰∏çË¥°ÁåÆ‰ªª‰ΩïÈ¢ùÂ§ñ‰ø°ÊÅØÔºåÊàë‰ª¨Áõ¥Êé•ÂéªÈô§„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">numerical = list(set(numerical) - set([<span class="string">'Total day charge'</span>, <span class="string">'Total eve charge'</span>, <span class="string">'Total night charge'</span>, <span class="string">'Total intl charge'</span>]))</span><br><span class="line"></span><br><span class="line">corr = df[numerical].corr()</span><br><span class="line">sns.heatmap(corr)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1396822d0&gt;</code></pre><p><img src="data/output_65_1.png" alt="png"></p>
<h4 id="Êï£ÁÇπÂõæ"><a href="#Êï£ÁÇπÂõæ" class="headerlink" title="Êï£ÁÇπÂõæ"></a>Êï£ÁÇπÂõæ</h4><p>Êï£ÁÇπÂõæÔºàscatter plotÔºâÂ∞Ü‰∏§‰∏™Êï∞ÂÄºÂèòÈáèÁöÑÂÄºÊòæÁ§∫‰∏∫‰∫åÁª¥Á©∫Èó¥‰∏≠ÁöÑÁ¨õÂç°Â∞îÂùêÊ†áÔºàCartesian coordinateÔºâ„ÄÇÈÄöËøá matplotlib Â∫ìÁöÑ <a href="https://matplotlib.org/devdocs/api/_as_gen/matplotlib.pyplot.scatter.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>scatter()</code></i></a> ÊñπÊ≥ïÂèØ‰ª•ÁªòÂà∂Êï£ÁÇπÂõæ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(df[<span class="string">'Total day minutes'</span>], df[<span class="string">'Total night minutes'</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.collections.PathCollection at 0x139a17c10&gt;</code></pre><p><img src="data/output_67_1.png" alt="png"></p>
<p>Êàë‰ª¨ÂæóÂà∞‰∫Ü‰∏§‰∏™Ê≠£ÊÄÅÂàÜÂ∏ÉÂèòÈáèÁöÑÊï£ÁÇπÂõæÔºåÁúãËµ∑Êù•Ëøô‰∏§‰∏™ÂèòÈáèÂπ∂‰∏çÁõ∏ÂÖ≥ÔºåÂõ†‰∏∫‰∏äÂõæÁöÑÂΩ¢Áä∂ÂíåËΩ¥ÊòØÂØπÈΩêÁöÑ„ÄÇ</p>
<p>seaborn Â∫ìÁöÑ <a href="https://seaborn.pydata.org/generated/seaborn.jointplot.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>jointplot()</code></i></a> ÊñπÊ≥ïÂú®ÁªòÂà∂Êï£ÁÇπÂõæÁöÑÂêåÊó∂‰ºöÁªòÂà∂‰∏§Âº†Áõ¥ÊñπÂõæÔºåÊüê‰∫õÊÉÖÂΩ¢‰∏ãÂÆÉ‰ª¨ÂèØËÉΩ‰ºöÊõ¥ÊúâÁî®„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.jointplot(df[<span class="string">'Total day minutes'</span>], df[<span class="string">'Total night minutes'</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.JointGrid at 0x139888cd0&gt;</code></pre><p><img src="data/output_70_1.png" alt="png"></p>
<p><code>jointplot()</code> ÊñπÊ≥ïËøòÂèØ‰ª•ÁªòÂà∂Âπ≥ÊªëËøáÁöÑÊï£ÁÇπÁõ¥ÊñπÂõæ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.jointplot(df[<span class="string">'Total day minutes'</span>], df[<span class="string">'Total night minutes'</span>], kind=<span class="string">'kde'</span>, color=<span class="string">'g'</span>)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.JointGrid at 0x139dc1890&gt;</code></pre><p><img src="data/output_72_1.png" alt="png"></p>
<p>‰∏äÂõæÂü∫Êú¨‰∏äÂ∞±ÊòØ‰πãÂâçËÆ®ËÆ∫ËøáÁöÑÊ†∏ÂØÜÂ∫¶ÂõæÁöÑÂèåÂèòÈáèÁâàÊú¨„ÄÇ</p>
<h4 id="Êï£ÁÇπÂõæÁü©Èòµ"><a href="#Êï£ÁÇπÂõæÁü©Èòµ" class="headerlink" title="Êï£ÁÇπÂõæÁü©Èòµ"></a>Êï£ÁÇπÂõæÁü©Èòµ</h4><p>Âú®Êüê‰∫õÊÉÖÂΩ¢‰∏ãÔºåÊàë‰ª¨ÂèØËÉΩÊÉ≥Ë¶ÅÁªòÂà∂Â¶Ç‰∏ãÊâÄÁ§∫ÁöÑÊï£ÁÇπÂõæÁü©ÈòµÔºàscatterplot matrixÔºâ„ÄÇÂÆÉÁöÑÂØπËßíÁ∫øÂåÖÂê´ÂèòÈáèÁöÑÂàÜÂ∏ÉÔºåÂπ∂‰∏îÊØèÂØπÂèòÈáèÁöÑÊï£ÁÇπÂõæÂ°´ÂÖÖ‰∫ÜÁü©ÈòµÁöÑÂÖ∂‰ΩôÈÉ®ÂàÜ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># %config InlineBackend.figure_format = 'png'</span></span><br><span class="line">sns.pairplot(df[numerical])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.PairGrid at 0x139cb5810&gt;</code></pre><p><img src="data/output_76_1.png" alt="png"></p>
<h4 id="Êï∞ÈáèÂíåÁ±ªÂà´"><a href="#Êï∞ÈáèÂíåÁ±ªÂà´" class="headerlink" title="Êï∞ÈáèÂíåÁ±ªÂà´"></a>Êï∞ÈáèÂíåÁ±ªÂà´</h4><p>‰∏∫‰∫ÜËÆ©ÂõæÂΩ¢Êõ¥ÊúâË∂£‰∏ÄÁÇπÔºåÂèØ‰ª•Â∞ùËØï‰ªéÊï∞ÂÄºÂíåÁ±ªÂà´ÁâπÂæÅÁöÑÁõ∏‰∫í‰ΩúÁî®‰∏≠ÂæóÂà∞È¢ÑÊµã Churn ÁöÑÊñ∞‰ø°ÊÅØÔºåÊõ¥ÂÖ∑‰ΩìÂú∞ÔºåËÆ©Êàë‰ª¨ÁúãÁúãËæìÂÖ•ÂèòÈáèÂíåÁõÆÊ†áÂèòÈáè Churn ÁöÑÂÖ≥Á≥ª„ÄÇ‰ΩøÁî® <a href="https://seaborn.pydata.org/generated/seaborn.lmplot.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>lmplot()</code></i></a> ÊñπÊ≥ïÁöÑ hue ÂèÇÊï∞Êù•ÊåáÂÆöÊÑüÂÖ¥Ë∂£ÁöÑÁ±ªÂà´ÁâπÂæÅ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.lmplot(<span class="string">'Total day minutes'</span>, <span class="string">'Total night minutes'</span>, data=df, hue=<span class="string">'Churn'</span>, fit_reg=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.FacetGrid at 0x13e7df950&gt;</code></pre><p><img src="data/output_79_2.png" alt="png"></p>
<p>ÁúãËµ∑Êù•‰∏çÂø†ÂÆûÂÆ¢Êà∑ÂÅèÂêëÂè≥‰∏äËßíÔºå‰πüÂ∞±ÊòØÂÄæÂêë‰∫éÂú®ÁôΩÂ§©ÂíåÂ§úÈó¥ÊâìÊõ¥Â§öÁîµËØùÁöÑÂÆ¢Êà∑„ÄÇÂΩìÁÑ∂ÔºåËøô‰∏çÊòØÈùûÂ∏∏ÊòéÊòæÔºåÊàë‰ª¨‰πü‰∏ç‰ºöÂü∫‰∫éËøô‰∏ÄÂõæÂΩ¢‰∏ã‰ªª‰ΩïÁ°ÆÂÆöÊÄßÁöÑÁªìËÆ∫„ÄÇ</p>
<p>Áé∞Âú®ÔºåÂàõÂª∫ÁÆ±ÂΩ¢ÂõæÔºå‰ª•ÂèØËßÜÂåñÂø†ÂÆûÂÆ¢Êà∑ÔºàChurn=0ÔºâÂíåÁ¶ªÁΩëÂÆ¢Êà∑ÔºàChurn=1ÔºâËøô‰∏§‰∏™‰∫íÊñ•ÂàÜÁªÑ‰∏≠Êï∞ÂÄºÂèòÈáèÂàÜÂ∏ÉÁöÑÁªüËÆ°Êï∞ÊçÆ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">numerical.append(<span class="string">'Customer service calls'</span>)</span><br><span class="line">print(numerical)</span><br><span class="line">fig, axes = plt.subplots(<span class="number">3</span>, <span class="number">4</span>, figsize=[<span class="number">10</span>, <span class="number">7</span>])</span><br><span class="line"><span class="keyword">for</span> index, feat <span class="keyword">in</span> enumerate(numerical):</span><br><span class="line">    ax = axes[int(index / <span class="number">4</span>), index % <span class="number">4</span>]</span><br><span class="line">    sns.boxplot(df[<span class="string">'Churn'</span>], df[feat], ax=ax)</span><br><span class="line">    ax.set_xlabel(<span class="string">''</span>)</span><br><span class="line">    ax.set_ylabel(feat)</span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>

<pre><code>[&apos;Total day minutes&apos;, &apos;Total night minutes&apos;, &apos;Number vmail messages&apos;, &apos;Total eve calls&apos;, &apos;Account length&apos;, &apos;Total intl calls&apos;, &apos;Total eve minutes&apos;, &apos;Total night calls&apos;, &apos;Total day calls&apos;, &apos;Total intl minutes&apos;, &apos;Customer service calls&apos;, &apos;Customer service calls&apos;, &apos;Customer service calls&apos;, &apos;Customer service calls&apos;, &apos;Customer service calls&apos;, &apos;Customer service calls&apos;, &apos;Customer service calls&apos;, &apos;Customer service calls&apos;]



---------------------------------------------------------------------------

IndexError                                Traceback (most recent call last)

&lt;ipython-input-47-539701aff8ff&gt; in &lt;module&gt;
      3 fig, axes = plt.subplots(3, 4, figsize=[10, 7])
      4 for index, feat in enumerate(numerical):
----&gt; 5     ax = axes[int(index / 4), index % 4]
      6     sns.boxplot(df[&apos;Churn&apos;], df[feat], ax=ax)
      7     ax.set_xlabel(&apos;&apos;)


IndexError: index 3 is out of bounds for axis 0 with size 3</code></pre><p><img src="data/output_82_2.png" alt="png"></p>
<p>‰∏äÈù¢ÁöÑÂõæË°®Ë°®ÊòéÔºå‰∏§ÁªÑ‰πãÈó¥ÂàÜÊ≠ßÊúÄÂ§ßÁöÑÂàÜÂ∏ÉÊòØËøô‰∏â‰∏™ÂèòÈáèÔºöTotal day minutes Êó•ÈÄöËØùÂàÜÈíüÊï∞„ÄÅCustomer service calls ÂÆ¢ÊúçÂëºÂè´Êï∞„ÄÅNumber vmail messages ËØ≠Èü≥ÈÇÆ‰ª∂Êï∞„ÄÇÂú®ÂêéÁª≠ÁöÑËØæÁ®ã‰∏≠ÔºåÊàë‰ª¨Â∞ÜÂ≠¶‰π†Â¶Ç‰Ωï‰ΩøÁî®ÈöèÊú∫Ê£ÆÊûóÔºàRandom ForestÔºâÊàñÊ¢ØÂ∫¶ÊèêÂçáÔºàGradient BoostingÔºâÊù•Âà§ÂÆöÁâπÂæÅÂØπÂàÜÁ±ªÁöÑÈáçË¶ÅÊÄßÔºåÂ±äÊó∂ÂèØ‰ª•Ê∏ÖÊô∞Âú∞ÁúãÂà∞ÔºåÂâç‰∏§‰∏™ÁâπÂæÅÂØπ‰∫éÁ¶ªÁΩëÈ¢ÑÊµãÊ®°ÂûãËÄåË®ÄÁ°ÆÂÆûÈùûÂ∏∏ÈáçË¶Å„ÄÇ</p>
<p>ÂàõÂª∫ÁÆ±ÂûãÂõæÂíåÊèêÁê¥ÂΩ¢ÂõæÔºåÊü•ÁúãÂø†ÂÆûÂÆ¢Êà∑Âíå‰∏çÂø†ÂÆûÂÆ¢Êà∑ÁöÑÊó•ÈÄöËØùÂàÜÈíüÊï∞„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">_, axes = plt.subplots(<span class="number">2</span>, <span class="number">2</span>, sharex=<span class="literal">True</span>, sharey=<span class="literal">True</span>, figsize=[<span class="number">10</span>, <span class="number">8</span>])</span><br><span class="line">sns.boxplot(x=<span class="string">'Churn'</span>, y=<span class="string">'Total day minutes'</span>, data=df, ax=axes[<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">sns.violinplot(x=<span class="string">'Churn'</span>, y=<span class="string">"Total day minutes"</span>, data=df, ax=axes[<span class="number">0</span>][<span class="number">1</span>])</span><br><span class="line">sns.boxplot(x=<span class="string">'Churn'</span>, y=<span class="string">'Total night minutes'</span>, data=df, ax=axes[<span class="number">1</span>][<span class="number">0</span>])</span><br><span class="line">sns.violinplot(x=<span class="string">'Churn'</span>, y=<span class="string">"Total night minutes"</span>, data=df, ax=axes[<span class="number">1</span>][<span class="number">1</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x140f70290&gt;</code></pre><p><img src="data/output_85_1.png" alt="png"></p>
<p>‰∏äÂõæË°®ÊòéÔºå‰∏çÂø†ÂÆûÂÆ¢Êà∑ÂÄæÂêë‰∫éÊâìÊõ¥Â§öÁöÑÁîµËØù„ÄÇ</p>
<p>Êàë‰ª¨ËøòÂèØ‰ª•ÂèëÁé∞‰∏Ä‰∏™ÊúâË∂£ÁöÑ‰ø°ÊÅØÔºöÂπ≥ÂùáËÄåË®ÄÔºåÁ¶ªÁΩëÂÆ¢Êà∑ÊòØÈÄöËÆØÊúçÂä°Êõ¥Ê¥ªË∑ÉÁöÑÁî®Êà∑„ÄÇÊàñËÆ∏ÊòØ‰ªñ‰ª¨ÂØπËØùË¥π‰∏çÊª°ÊÑèÔºåÊâÄ‰ª•È¢ÑÈò≤Á¶ªÁΩëÁöÑ‰∏Ä‰∏™ÂèØËÉΩÊé™ÊñΩÊòØÈôç‰ΩéÈÄöËØùË¥π„ÄÇÂΩìÁÑ∂ÔºåÂÖ¨Âè∏ÈúÄË¶ÅËøõË°åÈ¢ùÂ§ñÁöÑÁªèÊµéÂàÜÊûêÔºå‰ª•Êü•ÊòéËøôÊ†∑ÂÅöÊòØÂê¶ÁúüÁöÑÊúâÂà©„ÄÇ</p>
<p>ÂΩìÊÉ≥Ë¶Å‰∏ÄÊ¨°ÊÄßÂàÜÊûê‰∏§‰∏™Á±ªÂà´Áª¥Â∫¶‰∏ãÁöÑÊï∞ÈáèÂèòÈáèÊó∂ÔºåÂèØ‰ª•Áî® seaborn Â∫ìÁöÑ <a href="https://seaborn.pydata.org/generated/seaborn.factorplot.html" target="_blank" rel="noopener"><i class="fa fa-external-link-square" aria-hidden="true"> <code>catplot()</code></i></a> ÂáΩÊï∞„ÄÇ‰æãÂ¶ÇÔºåÂú®Âêå‰∏ÄÂõæÂΩ¢‰∏≠ÂèØËßÜÂåñ Total day minutes Êó•ÈÄöËØùÂàÜÈíüÊï∞ Âíå‰∏§‰∏™Á±ªÂà´ÂèòÈáèÔºàChurn Âíå Customer service callsÔºâÁöÑÁõ∏‰∫í‰ΩúÁî®„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.catplot(x=<span class="string">'Churn'</span>, y=<span class="string">'Total day minutes'</span>, col=<span class="string">'Customer service calls'</span>,</span><br><span class="line">          data=df[df[<span class="string">'Customer service calls'</span>] &lt; <span class="number">8</span>], kind=<span class="string">'box'</span>, col_wrap=<span class="number">4</span>, height=<span class="number">3</span>, aspect=<span class="number">.8</span>)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.FacetGrid at 0x140728250&gt;</code></pre><p><img src="data/output_89_1.png" alt="png"></p>
<p>‰∏äÂõæË°®ÊòéÔºå‰ªéÁ¨¨ 4 Ê¨°ÂÆ¢ÊúçÂëºÂè´ÂºÄÂßãÔºåTotal day minutes Êó•ÈÄöËØùÂàÜÈíüÊï∞ ÂèØËÉΩ‰∏çÂÜçÊòØÂÆ¢Êà∑Á¶ªÁΩëÔºàChurn==1ÔºâÁöÑ‰∏ªË¶ÅÂõ†Á¥†„ÄÇ‰πüËÆ∏ÔºåÈô§‰∫ÜÊàë‰ª¨‰πãÂâçÁåúÊµãÁöÑËØùË¥πÂéüÂõ†ÔºåËøòÊúâÂÖ∂‰ªñÈóÆÈ¢òÂØºËá¥ÂÆ¢Êà∑ÂØπÊúçÂä°‰∏çÊª°ÊÑèÔºåËøôÂèØËÉΩ‰ºöÂØºËá¥Êó•ÈÄöËØùÂàÜÈíüÊï∞Êõ¥Â∞ë„ÄÇ</p>
<h4 id="Á±ªÂà´‰∏éÁ±ªÂà´"><a href="#Á±ªÂà´‰∏éÁ±ªÂà´" class="headerlink" title="Á±ªÂà´‰∏éÁ±ªÂà´"></a>Á±ªÂà´‰∏éÁ±ªÂà´</h4><p>Ê≠£Â¶Ç‰πãÂâçÊèêÂà∞ÁöÑÔºåÂèòÈáè Customer service calls ÂÆ¢ÊúçÂëºÂè´Êï∞ ÁöÑÈáçÂ§çÂÄºÂæàÂ§öÔºåÂõ†Ê≠§ÔºåÊó¢ÂèØ‰ª•ÁúãÊàêÊï∞ÂÄºÂèòÈáèÔºå‰πüÂèØ‰ª•ÁúãÊàêÊúâÂ∫èÁ±ªÂà´ÂèòÈáè„ÄÇ‰πãÂâçÂ∑≤ÈÄöËøáËÆ°Êï∞ÂõæÔºàcount plotÔºâÊü•ÁúãËøáÂÆÉÁöÑÂàÜÂ∏É‰∫ÜÔºåÁé∞Âú®Êàë‰ª¨ÊÑüÂÖ¥Ë∂£ÁöÑÊòØËøô‰∏ÄÊúâÂ∫èÁâπÂæÅÂíåÁõÆÊ†áÂèòÈáè Churn Á¶ªÁΩëÁéá ‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇ</p>
<p>‰ΩøÁî® <code>countplot()</code> ÊñπÊ≥ïÊü•ÁúãÂÆ¢ÊúçÂëºÂè´Êï∞ÁöÑÂàÜÂ∏ÉÔºåËøôÊ¨°‰º†ÂÖ• <code>hue=Churn</code> ÂèÇÊï∞Ôºå‰ª•‰æøÂú®ÂõæÂΩ¢‰∏≠Âä†ÂÖ•Á±ªÂà´Áª¥Â∫¶„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.countplot(x=<span class="string">'Customer service calls'</span>, hue=<span class="string">'Churn'</span>, data=df[df[<span class="string">"Customer service calls"</span>] &lt; <span class="number">10</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x140cb7990&gt;</code></pre><p><img src="data/output_94_1.png" alt="png"></p>
<p>‰∏äÂõæË°®ÊòéÔºåÂëºÂè´ÂÆ¢ÊúçËææÂà∞ 4 Ê¨°‰ª•‰∏äÂêéÔºåÁ¶ªÁΩëÁéáÊòæËëóÂ¢ûÂä†‰∫Ü„ÄÇ</p>
<p>‰ΩøÁî® <code>countplot()</code> ÊñπÊ≥ïÊü•Áúã Churn Á¶ªÁΩëÁéá Âíå‰∫åÂÖÉÁâπÂæÅ International plan ÂõΩÈôÖÂ•óÈ§ê„ÄÅVoice mail plan ËØ≠Èü≥ÈÇÆ‰ª∂Â•óÈ§ê ÁöÑÂÖ≥Á≥ª„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">_, axes = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, sharey=<span class="literal">True</span>, figsize=(<span class="number">10</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">sns.countplot(x=<span class="string">'International plan'</span>, hue=<span class="string">'Churn'</span>, data=df, ax=axes[<span class="number">0</span>])</span><br><span class="line">sns.countplot(x=<span class="string">'Voice mail plan'</span>, hue=<span class="string">'Churn'</span>, data=df, ax=axes[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x142344290&gt;</code></pre><p><img src="data/output_97_1.png" alt="png"></p>
<p>‰∏äÂõæË°®ÊòéÔºåÂºÄÈÄöÂõΩÈôÖÂ•óÈ§êÂêéÔºåÁ¶ªÁΩëÁéá‰ºöÈ´òÂæàÂ§öÔºåÂç≥ International plan ÊòØÂê¶ÂºÄÈÄöÂõΩÈôÖÂ•óÈ§ê ÊòØ‰∏Ä‰∏™ÈáçË¶ÅÁöÑÁâπÂæÅ„ÄÇÊàë‰ª¨Âú® Vocie mail plan ËØ≠Èü≥ÈÇÆ‰ª∂Â•óÈ§ê ÁâπÂæÅ‰∏äÊ≤°ÊúâËßÇÂØüÂà∞Á±ª‰ººÁöÑÊïàÊûú„ÄÇ</p>
<h4 id="‰∫§ÂèâË°®"><a href="#‰∫§ÂèâË°®" class="headerlink" title="‰∫§ÂèâË°®"></a>‰∫§ÂèâË°®</h4><p>Èô§‰∫Ü‰ΩøÁî®ÂõæÂΩ¢ËøõË°åÁ±ªÂà´ÂàÜÊûê‰πãÂ§ñÔºåËøòÂèØ‰ª•‰ΩøÁî®ÁªüËÆ°Â≠¶ÁöÑ‰º†ÁªüÂ∑•ÂÖ∑Ôºö‰∫§ÂèâË°®Ôºàcross tabulationÔºâÔºåÂç≥‰ΩøÁî®Ë°®Ê†ºÂΩ¢ÂºèË°®Á§∫Â§ö‰∏™Á±ªÂà´ÂèòÈáèÁöÑÈ¢ëÁéáÂàÜÂ∏É„ÄÇÈÄöËøáÂÆÉÂèØ‰ª•Êü•ÁúãÊüê‰∏ÄÂàóÊàñÊüê‰∏ÄË°å‰ª•‰∫ÜËß£Êüê‰∏™ÂèòÈáèÂú®Âè¶‰∏ÄÂèòÈáèÁöÑ‰ΩúÁî®‰∏ãÁöÑÂàÜÂ∏ÉÊÉÖÂÜµ„ÄÇ</p>
<p>ÈÄöËøá‰∫§ÂèâË°®Êü•Áúã Churn Á¶ªÁΩëÁéá ÂíåÁ±ªÂà´ÂèòÈáè State Â∑û ÁöÑÂÖ≥Á≥ª„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.crosstab(df[<span class="string">'State'</span>], df[<span class="string">'Churn'</span>]).T</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>State</th>
      <th>AK</th>
      <th>AL</th>
      <th>AR</th>
      <th>AZ</th>
      <th>CA</th>
      <th>CO</th>
      <th>CT</th>
      <th>DC</th>
      <th>DE</th>
      <th>FL</th>
      <th>...</th>
      <th>SD</th>
      <th>TN</th>
      <th>TX</th>
      <th>UT</th>
      <th>VA</th>
      <th>VT</th>
      <th>WA</th>
      <th>WI</th>
      <th>WV</th>
      <th>WY</th>
    </tr>
    <tr>
      <th>Churn</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>False</th>
      <td>49</td>
      <td>72</td>
      <td>44</td>
      <td>60</td>
      <td>25</td>
      <td>57</td>
      <td>62</td>
      <td>49</td>
      <td>52</td>
      <td>55</td>
      <td>...</td>
      <td>52</td>
      <td>48</td>
      <td>54</td>
      <td>62</td>
      <td>72</td>
      <td>65</td>
      <td>52</td>
      <td>71</td>
      <td>96</td>
      <td>68</td>
    </tr>
    <tr>
      <th>True</th>
      <td>3</td>
      <td>8</td>
      <td>11</td>
      <td>4</td>
      <td>9</td>
      <td>9</td>
      <td>12</td>
      <td>5</td>
      <td>9</td>
      <td>8</td>
      <td>...</td>
      <td>8</td>
      <td>5</td>
      <td>18</td>
      <td>10</td>
      <td>5</td>
      <td>8</td>
      <td>14</td>
      <td>7</td>
      <td>10</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
<p>2 rows √ó 51 columns</p>
</div>



<p>‰∏äË°®ÊòæÁ§∫ÔºåState Â∑û Êúâ 51 ‰∏™‰∏çÂêåÁöÑÂÄºÔºåÂπ∂‰∏îÊØè‰∏™Â∑ûÂè™Êúâ 3 Âà∞ 17 ‰∏™ÂÆ¢Êà∑ÊäõÂºÉ‰∫ÜËøêËê•ÂïÜ„ÄÇÈÄöËøá <code>groupby()</code> ÊñπÊ≥ïËÆ°ÁÆóÊØè‰∏™Â∑ûÁöÑÁ¶ªÁΩëÁéáÔºåÁî±È´òÂà∞‰ΩéÊéíÂàó„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby([<span class="string">'State'</span>])[<span class="string">'Churn'</span>].agg([np.mean]).sort_values(by=<span class="string">'mean'</span>, ascending=<span class="literal">False</span>).T</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>State</th>
      <th>NJ</th>
      <th>CA</th>
      <th>TX</th>
      <th>MD</th>
      <th>SC</th>
      <th>MI</th>
      <th>MS</th>
      <th>NV</th>
      <th>WA</th>
      <th>ME</th>
      <th>...</th>
      <th>RI</th>
      <th>WI</th>
      <th>IL</th>
      <th>NE</th>
      <th>LA</th>
      <th>IA</th>
      <th>VA</th>
      <th>AZ</th>
      <th>AK</th>
      <th>HI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mean</th>
      <td>0.264706</td>
      <td>0.264706</td>
      <td>0.25</td>
      <td>0.242857</td>
      <td>0.233333</td>
      <td>0.219178</td>
      <td>0.215385</td>
      <td>0.212121</td>
      <td>0.212121</td>
      <td>0.209677</td>
      <td>...</td>
      <td>0.092308</td>
      <td>0.089744</td>
      <td>0.086207</td>
      <td>0.081967</td>
      <td>0.078431</td>
      <td>0.068182</td>
      <td>0.064935</td>
      <td>0.0625</td>
      <td>0.057692</td>
      <td>0.056604</td>
    </tr>
  </tbody>
</table>
<p>1 rows √ó 51 columns</p>
</div>



<p>‰∏äË°®ÊòæÁ§∫ÔºåÊñ∞Ê≥ΩË•øÂíåÂä†Âà©Á¶èÂ∞º‰∫öÁöÑÁ¶ªÁΩëÁéáË∂ÖËøá‰∫Ü 25%ÔºåÂ§èÂ®ÅÂ§∑ÂíåÈòøÊãâÊñØÂä†ÁöÑÁ¶ªÁΩëÁéáÂàô‰∏çÂà∞ 6%„ÄÇÁÑ∂ËÄåÔºåËøô‰∫õÁªìËÆ∫ÊòØÂü∫‰∫éÊûÅÂ∞ëÁöÑÊ†∑Êú¨ÂæóÂá∫ÁöÑÔºåÂèØËÉΩ‰ªÖÈÄÇÁî®‰∫éËøô‰∏ÄÁâπÂÆöÊï∞ÊçÆÈõÜÔºå‰∏çÂ§™ÂÖ∑ÊúâÊ≥õÁî®ÊÄß„ÄÇ</p>
<h3 id="ÂÖ®Â±ÄÊï∞ÊçÆÈõÜÂèØËßÜÂåñ"><a href="#ÂÖ®Â±ÄÊï∞ÊçÆÈõÜÂèØËßÜÂåñ" class="headerlink" title="ÂÖ®Â±ÄÊï∞ÊçÆÈõÜÂèØËßÜÂåñ"></a>ÂÖ®Â±ÄÊï∞ÊçÆÈõÜÂèØËßÜÂåñ</h3><p>‰∏äÈù¢Êàë‰ª¨‰∏ÄÁõ¥Âú®Á†îÁ©∂Êï∞ÊçÆÈõÜÁöÑ‰∏çÂêåÊñπÈù¢ÔºàfacetÔºâÔºåÈÄöËøáÁåúÊµãÊúâË∂£ÁöÑÁâπÂæÅÂπ∂‰∏ÄÊ¨°ÈÄâÊã©Â∞ëÈáèÁâπÂæÅËøõË°åÂèØËßÜÂåñ„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥‰∏ÄÊ¨°ÊÄßÊòæÁ§∫ÊâÄÊúâÁâπÂæÅÂπ∂‰ªçÁÑ∂ËÉΩÂ§üËß£ÈáäÁîüÊàêÁöÑÂèØËßÜÂåñÔºåËØ•ÊÄé‰πàÂäûÔºü</p>
<h4 id="ÈôçÁª¥"><a href="#ÈôçÁª¥" class="headerlink" title="ÈôçÁª¥"></a>ÈôçÁª¥</h4><p>Â§ßÂ§öÊï∞Áé∞ÂÆû‰∏ñÁïåÁöÑÊï∞ÊçÆÈõÜÊúâÂæàÂ§öÁâπÂæÅÔºåÊØè‰∏Ä‰∏™ÁâπÂæÅÈÉΩÂèØ‰ª•Ë¢´ÁúãÊàêÊï∞ÊçÆÁ©∫Èó¥ÁöÑ‰∏Ä‰∏™Áª¥Â∫¶„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÁªèÂ∏∏ÈúÄË¶ÅÂ§ÑÁêÜÈ´òÁª¥Êï∞ÊçÆÈõÜÔºåÁÑ∂ËÄåÂèØËßÜÂåñÊï¥‰∏™È´òÁª¥Êï∞ÊçÆÈõÜÁõ∏ÂΩìÈöæ„ÄÇ‰∏∫‰∫Ü‰ªéÊï¥‰Ωì‰∏äÊü•Áúã‰∏Ä‰∏™Êï∞ÊçÆÈõÜÔºåÈúÄË¶ÅÂú®‰∏çÊçüÂ§±ÂæàÂ§öÊï∞ÊçÆ‰ø°ÊÅØÁöÑÂâçÊèê‰∏ãÔºåÈôç‰ΩéÁî®‰∫éÂèØËßÜÂåñÁöÑÁª¥Â∫¶„ÄÇËøô‰∏Ä‰ªªÂä°Ë¢´Áß∞‰∏∫ÈôçÁª¥Ôºàdimensionality reductionÔºâ„ÄÇÈôçÁª¥ÊòØ‰∏Ä‰∏™Êó†ÁõëÁù£Â≠¶‰π†Ôºàunsupervised learningÔºâÈóÆÈ¢òÔºåÂõ†‰∏∫ÂÆÉÈúÄË¶ÅÂú®‰∏çÂÄüÂä©‰ªª‰ΩïÁõëÁù£ËæìÂÖ•ÔºàÂ¶ÇÊ†áÁ≠æÔºâÁöÑÂâçÊèê‰∏ãÔºå‰ªéÊï∞ÊçÆËá™Ë∫´ÂæóÂà∞Êñ∞ÁöÑ‰ΩéÁª¥ÁâπÂæÅ„ÄÇ</p>
<p>‰∏ªÊàêÂàÜÂàÜÊûêÔºàPrincipal Component Analysis, PCAÔºâÊòØ‰∏Ä‰∏™ËëóÂêçÁöÑÈôçÁª¥ÊñπÊ≥ïÔºåÊàë‰ª¨‰ºöÂú®‰πãÂêéÁöÑËØæÁ®ã‰∏≠ËÆ®ËÆ∫ÂÆÉ„ÄÇ‰ΩÜ‰∏ªÊàêÂàÜÂàÜÊûêÁöÑÂ±ÄÈôêÊÄßÂú®‰∫éÔºåÂÆÉÊòØÁ∫øÊÄßÔºàlinearÔºâÁÆóÊ≥ïÔºåËøôÊÑèÂë≥ÁùÄÂØπÊï∞ÊçÆÊúâÊüê‰∫õÁâπÂÆöÁöÑÈôêÂà∂„ÄÇ</p>
<p>‰∏éÁ∫øÊÄßÊñπÊ≥ïÁõ∏ÂØπÁöÑÔºåÊúâËÆ∏Â§öÈùûÁ∫øÊÄßÊñπÊ≥ïÔºåÁªüÁß∞ÊµÅÂΩ¢Â≠¶‰π†ÔºàManifold LearningÔºâ„ÄÇËëóÂêçÁöÑÊµÅÂΩ¢Â≠¶‰π†ÊñπÊ≥ï‰πã‰∏ÄÊòØ t-SNE„ÄÇ</p>
<h3 id="ÂÆûÈ™åÊÄªÁªì"><a href="#ÂÆûÈ™åÊÄªÁªì" class="headerlink" title="ÂÆûÈ™åÊÄªÁªì"></a>ÂÆûÈ™åÊÄªÁªì</h3><p>Êú¨Á´†ËäÇÈ¶ñÂÖà‰ªãÁªç‰∫Ü Pandas„ÄÅMatplotlib Âíå seaborn Â∫ìÁöÑ‰∏Ä‰∫õÂ∏∏Áî®ÂèØËßÜÂåñÊñπÊ≥ïÔºåÂπ∂ÂØπÂÆ¢Êà∑Á¶ªÁΩëÊï∞ÊçÆÈõÜËøõË°å‰∫ÜÂèØËßÜÂåñÂàÜÊûêÂíå t-SNE ÈôçÁª¥„ÄÇÂèØËßÜÂåñÊòØ‰∏Ä‰∏™Áõ∏ÂØπÂø´Êç∑ÁöÑ‰ªéÊï∞ÊçÆ‰∏≠ÊåñÊéò‰ø°ÊÅØÁöÑÊâãÊÆµÔºåÂõ†Ê≠§ÔºåÂ≠¶‰π†Ëøô‰∏ÄÊäÄÊúØÂπ∂Â∞ÜÂÖ∂Á∫≥ÂÖ•‰Ω†ÁöÑÊó•Â∏∏Êú∫Âô®Â≠¶‰π†Â∑•ÂÖ∑ÁÆ±ÔºåÊòØÂæàÊúâÂøÖË¶ÅÁöÑ„ÄÇ</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://edlison.com/blog/2020/05/17/mlsec/Python-%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2%E4%B9%8B%E5%8F%AF%E8%A7%86%E5%8C%96%E5%88%86%E6%9E%90/" data-id="ckaat5bod0001vaojg5pm07mp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mlsec/‰ΩøÁî®-Pandas-ËøõË°åÊï∞ÊçÆÊé¢Á¥¢" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/05/17/mlsec/%E4%BD%BF%E7%94%A8-Pandas-%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2/" class="article-date">
  <time datetime="2020-05-17T08:27:48.000Z" itemprop="datePublished">2020-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/05/17/mlsec/%E4%BD%BF%E7%94%A8-Pandas-%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2/">mlsec/‰ΩøÁî®-Pandas-ËøõË°åÊï∞ÊçÆÊé¢Á¥¢</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="‰ΩøÁî®-Pandas-ËøõË°åÊï∞ÊçÆÊé¢Á¥¢"><a href="#‰ΩøÁî®-Pandas-ËøõË°åÊï∞ÊçÆÊé¢Á¥¢" class="headerlink" title="‰ΩøÁî® Pandas ËøõË°åÊï∞ÊçÆÊé¢Á¥¢"></a>‰ΩøÁî® Pandas ËøõË°åÊï∞ÊçÆÊé¢Á¥¢</h2><p>Êú¨Ê¨°ÂÆûÈ™åÈÄöËøáÂàÜÊûêÁîµ‰ø°ËøêËê•ÂïÜÁöÑÂÆ¢Êà∑Á¶ªÁΩëÁéáÊï∞ÊçÆÈõÜÊù•ÁÜüÊÇâ Pandas Êï∞ÊçÆÊé¢Á¥¢ÁöÑÂ∏∏Áî®ÊñπÊ≥ïÔºåÂπ∂ÊûÑÂª∫‰∏Ä‰∏™È¢ÑÊµãÂÆ¢Êà∑Á¶ªÁΩëÁéáÁöÑÁÆÄÂçïÊ®°Âûã„ÄÇ</p>
<h3 id="Pandas-ÁöÑ‰∏ªË¶ÅÊñπÊ≥ï"><a href="#Pandas-ÁöÑ‰∏ªË¶ÅÊñπÊ≥ï" class="headerlink" title="Pandas ÁöÑ‰∏ªË¶ÅÊñπÊ≥ï"></a>Pandas ÁöÑ‰∏ªË¶ÅÊñπÊ≥ï</h3><p>Pandas ÊòØÂü∫‰∫é NumPy ÁöÑ‰∏ÄÁßçÂ∑•ÂÖ∑ÔºåÊèê‰æõ‰∫ÜÂ§ßÈáèÊï∞ÊçÆÊé¢Á¥¢ÁöÑÊñπÊ≥ï„ÄÇPandas ÂèØ‰ª•‰ΩøÁî®Á±ª‰ºº SQL ÁöÑÊñπÂºèÂØπ .csv„ÄÅ.tsv„ÄÅ.xlsx Á≠âÊ†ºÂºèÁöÑÊï∞ÊçÆËøõË°åÂ§ÑÁêÜÂàÜÊûê„ÄÇ</p>
<p>Pandas ‰∏ªË¶Å‰ΩøÁî®ÁöÑÊï∞ÊçÆÁªìÊûÑÊòØ Series Âíå DataFrame Á±ª„ÄÇ‰∏ãÈù¢ÁÆÄË¶Å‰ªãÁªç‰∏ãËøô‰∏§Á±ªÔºö</p>
<ul>
<li>Series ÊòØ‰∏ÄÁßçÁ±ª‰ºº‰∫é‰∏ÄÁª¥Êï∞ÁªÑÁöÑÂØπË±°ÔºåÂÆÉÁî±‰∏ÄÁªÑÊï∞ÊçÆÔºàÂêÑÁßç NumPy Êï∞ÊçÆÁ±ªÂûãÔºâÂèä‰∏ÄÁªÑ‰∏é‰πãÁõ∏ÂÖ≥ÁöÑÊï∞ÊçÆÊ†áÁ≠æÔºàÂç≥Á¥¢ÂºïÔºâÁªÑÊàê„ÄÇ</li>
<li>DataFrame ÊòØ‰∏Ä‰∏™‰∫åÁª¥Êï∞ÊçÆÁªìÊûÑÔºåÂç≥‰∏ÄÂº†Ë°®Ê†ºÔºåÂÖ∂‰∏≠ÊØèÂàóÊï∞ÊçÆÁöÑÁ±ªÂûãÁõ∏Âêå„ÄÇ‰Ω†ÂèØ‰ª•ÊääÂÆÉÁúãÊàêÁî± Series ÂÆû‰æãÊûÑÊàêÁöÑÂ≠óÂÖ∏„ÄÇ</li>
</ul>
<p>‰∏ãÈù¢ÂºÄÂßãÊ≠§Ê¨°ÂÆûÈ™åÔºåÊàë‰ª¨Â∞ÜÈÄöËøáÂàÜÊûêÁîµ‰ø°ËøêËê•ÂïÜÁöÑÂÆ¢Êà∑Á¶ªÁΩëÁéáÊï∞ÊçÆÈõÜÊù•Â±ïÁ§∫ Pandas ÁöÑ‰∏ªË¶ÅÊñπÊ≥ï„ÄÇ</p>
<p>È¶ñÂÖàËΩΩÂÖ•ÂøÖË¶ÅÁöÑÂ∫ìÔºåÂç≥ NumPy Âíå Pandas„ÄÇ</p>
<p><i class="fa fa-arrow-circle-down" aria-hidden="true"> ÊïôÂ≠¶‰ª£Á†ÅÔºö</i></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>

<p>ÈÄöËøá <code>read_csv()</code> ÊñπÊ≥ïËØªÂèñÊï∞ÊçÆÔºåÁÑ∂Âêé‰ΩøÁî® <code>head()</code> ÊñπÊ≥ïÊü•ÁúãÂâç 5 Ë°åÊï∞ÊçÆ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataFrame = pd.read_csv(<span class="string">'./data/telecom_churn.csv'</span>)</span><br></pre></td></tr></table></figure>

<p>‰∏äÂõæ‰∏≠ÁöÑÊØèË°åÂØπÂ∫î‰∏Ä‰ΩçÂÆ¢Êà∑ÔºåÊØèÂàóÂØπÂ∫îÂÆ¢Êà∑ÁöÑ‰∏Ä‰∏™ÁâπÂæÅ„ÄÇ</p>
<p>ËÆ©Êàë‰ª¨Êü•Áúã‰∏Ä‰∏ãËØ•Êï∞ÊçÆÂ∫ìÁöÑÁª¥Â∫¶„ÄÅÁâπÂæÅÂêçÁß∞ÂíåÁâπÂæÅÁ±ªÂûã„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataFrame.shape</span><br></pre></td></tr></table></figure>




<pre><code>(3333, 20)</code></pre><p>‰∏äËø∞ÁªìÊûúË°®ÊòéÔºåÊàë‰ª¨ÁöÑÂàóË°®ÂåÖÂê´ 3333 Ë°åÂíå 20 Âàó„ÄÇ‰∏ãÈù¢Êàë‰ª¨Â∞ùËØïÊâìÂç∞ÂàóÂêç„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataFrame.columns</span><br></pre></td></tr></table></figure>




<pre><code>Index([&apos;State&apos;, &apos;Account length&apos;, &apos;Area code&apos;, &apos;International plan&apos;,
       &apos;Voice mail plan&apos;, &apos;Number vmail messages&apos;, &apos;Total day minutes&apos;,
       &apos;Total day calls&apos;, &apos;Total day charge&apos;, &apos;Total eve minutes&apos;,
       &apos;Total eve calls&apos;, &apos;Total eve charge&apos;, &apos;Total night minutes&apos;,
       &apos;Total night calls&apos;, &apos;Total night charge&apos;, &apos;Total intl minutes&apos;,
       &apos;Total intl calls&apos;, &apos;Total intl charge&apos;, &apos;Customer service calls&apos;,
       &apos;Churn&apos;],
      dtype=&apos;object&apos;)</code></pre><p>Êàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî® <code>info()</code> ÊñπÊ≥ïËæìÂá∫ DataFrame ÁöÑ‰∏Ä‰∫õÊÄª‰Ωì‰ø°ÊÅØ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataFrame.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &apos;pandas.core.frame.DataFrame&apos;&gt;
RangeIndex: 3333 entries, 0 to 3332
Data columns (total 20 columns):
State                     3333 non-null object
Account length            3333 non-null int64
Area code                 3333 non-null int64
International plan        3333 non-null object
Voice mail plan           3333 non-null object
Number vmail messages     3333 non-null int64
Total day minutes         3333 non-null float64
Total day calls           3333 non-null int64
Total day charge          3333 non-null float64
Total eve minutes         3333 non-null float64
Total eve calls           3333 non-null int64
Total eve charge          3333 non-null float64
Total night minutes       3333 non-null float64
Total night calls         3333 non-null int64
Total night charge        3333 non-null float64
Total intl minutes        3333 non-null float64
Total intl calls          3333 non-null int64
Total intl charge         3333 non-null float64
Customer service calls    3333 non-null int64
Churn                     3333 non-null bool
dtypes: bool(1), float64(8), int64(8), object(3)
memory usage: 498.1+ KB</code></pre><p><code>bool</code>„ÄÅ<code>int64</code>„ÄÅ<code>float64</code> Âíå <code>object</code> ÊòØËØ•Êï∞ÊçÆÂ∫ìÁâπÂæÅÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇËøô‰∏ÄÊñπÊ≥ïÂêåÊó∂‰πü‰ºöÊòæÁ§∫ÊòØÂê¶ÊúâÁº∫Â§±ÂÄºÔºå‰∏äËø∞ÁªìÊûúË°®ÊòéÂú®ËØ•Êï∞ÊçÆÈõÜ‰∏≠‰∏çÂ≠òÂú®Áº∫Â§±ÂÄºÔºåÂõ†‰∏∫ÊØèÂàóÈÉΩÂåÖÂê´ 3333 ‰∏™ËßÇÊµãÔºåÂíåÊàë‰ª¨‰πãÂâç‰ΩøÁî® <code>shape</code> ÊñπÊ≥ïÂæóÂà∞ÁöÑÊï∞Â≠óÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ</p>
<p><code>astype()</code> ÊñπÊ≥ïÂèØ‰ª•Êõ¥ÊîπÂàóÁöÑÁ±ªÂûãÔºå‰∏ãÂàóÂÖ¨ÂºèÂ∞Ü Churn Á¶ªÁΩëÁéá ÁâπÂæÅ‰øÆÊîπ‰∏∫ <code>int64</code> Á±ªÂûã„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df = dataFrame</span><br><span class="line">df.head(<span class="number">5</span>)</span><br><span class="line">df[<span class="string">'Churn'</span>] = df[<span class="string">'Churn'</span>].astype(<span class="string">'int64'</span>)</span><br><span class="line">df.head(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>Total eve calls</th>
      <th>Total eve charge</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>KS</td>
      <td>128</td>
      <td>415</td>
      <td>No</td>
      <td>Yes</td>
      <td>25</td>
      <td>265.1</td>
      <td>110</td>
      <td>45.07</td>
      <td>197.4</td>
      <td>99</td>
      <td>16.78</td>
      <td>244.7</td>
      <td>91</td>
      <td>11.01</td>
      <td>10.0</td>
      <td>3</td>
      <td>2.70</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>OH</td>
      <td>107</td>
      <td>415</td>
      <td>No</td>
      <td>Yes</td>
      <td>26</td>
      <td>161.6</td>
      <td>123</td>
      <td>27.47</td>
      <td>195.5</td>
      <td>103</td>
      <td>16.62</td>
      <td>254.4</td>
      <td>103</td>
      <td>11.45</td>
      <td>13.7</td>
      <td>3</td>
      <td>3.70</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NJ</td>
      <td>137</td>
      <td>415</td>
      <td>No</td>
      <td>No</td>
      <td>0</td>
      <td>243.4</td>
      <td>114</td>
      <td>41.38</td>
      <td>121.2</td>
      <td>110</td>
      <td>10.30</td>
      <td>162.6</td>
      <td>104</td>
      <td>7.32</td>
      <td>12.2</td>
      <td>5</td>
      <td>3.29</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OH</td>
      <td>84</td>
      <td>408</td>
      <td>Yes</td>
      <td>No</td>
      <td>0</td>
      <td>299.4</td>
      <td>71</td>
      <td>50.90</td>
      <td>61.9</td>
      <td>88</td>
      <td>5.26</td>
      <td>196.9</td>
      <td>89</td>
      <td>8.86</td>
      <td>6.6</td>
      <td>7</td>
      <td>1.78</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OK</td>
      <td>75</td>
      <td>415</td>
      <td>Yes</td>
      <td>No</td>
      <td>0</td>
      <td>166.7</td>
      <td>113</td>
      <td>28.34</td>
      <td>148.3</td>
      <td>122</td>
      <td>12.61</td>
      <td>186.9</td>
      <td>121</td>
      <td>8.41</td>
      <td>10.1</td>
      <td>3</td>
      <td>2.73</td>
      <td>3</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>



<p><code>describe()</code> ÊñπÊ≥ïÂèØ‰ª•ÊòæÁ§∫Êï∞ÂÄºÁâπÂæÅÔºà<code>int64</code> Âíå <code>float64</code>ÔºâÁöÑÂü∫Êú¨ÁªüËÆ°Â≠¶ÁâπÊÄßÔºåÂ¶ÇÊú™Áº∫Â§±ÂÄºÁöÑÊï∞ÂÄº„ÄÅÂùáÂÄº„ÄÅÊ†áÂáÜÂ∑Æ„ÄÅËåÉÂõ¥„ÄÅÂõõÂàÜ‰ΩçÊï∞Á≠â„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.describe()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Account length</th>
      <th>Area code</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>Total eve calls</th>
      <th>Total eve charge</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
      <td>3333.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>101.064806</td>
      <td>437.182418</td>
      <td>8.099010</td>
      <td>179.775098</td>
      <td>100.435644</td>
      <td>30.562307</td>
      <td>200.980348</td>
      <td>100.114311</td>
      <td>17.083540</td>
      <td>200.872037</td>
      <td>100.107711</td>
      <td>9.039325</td>
      <td>10.237294</td>
      <td>4.479448</td>
      <td>2.764581</td>
      <td>1.562856</td>
      <td>0.144914</td>
    </tr>
    <tr>
      <th>std</th>
      <td>39.822106</td>
      <td>42.371290</td>
      <td>13.688365</td>
      <td>54.467389</td>
      <td>20.069084</td>
      <td>9.259435</td>
      <td>50.713844</td>
      <td>19.922625</td>
      <td>4.310668</td>
      <td>50.573847</td>
      <td>19.568609</td>
      <td>2.275873</td>
      <td>2.791840</td>
      <td>2.461214</td>
      <td>0.753773</td>
      <td>1.315491</td>
      <td>0.352067</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>408.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>23.200000</td>
      <td>33.000000</td>
      <td>1.040000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>74.000000</td>
      <td>408.000000</td>
      <td>0.000000</td>
      <td>143.700000</td>
      <td>87.000000</td>
      <td>24.430000</td>
      <td>166.600000</td>
      <td>87.000000</td>
      <td>14.160000</td>
      <td>167.000000</td>
      <td>87.000000</td>
      <td>7.520000</td>
      <td>8.500000</td>
      <td>3.000000</td>
      <td>2.300000</td>
      <td>1.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>101.000000</td>
      <td>415.000000</td>
      <td>0.000000</td>
      <td>179.400000</td>
      <td>101.000000</td>
      <td>30.500000</td>
      <td>201.400000</td>
      <td>100.000000</td>
      <td>17.120000</td>
      <td>201.200000</td>
      <td>100.000000</td>
      <td>9.050000</td>
      <td>10.300000</td>
      <td>4.000000</td>
      <td>2.780000</td>
      <td>1.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>127.000000</td>
      <td>510.000000</td>
      <td>20.000000</td>
      <td>216.400000</td>
      <td>114.000000</td>
      <td>36.790000</td>
      <td>235.300000</td>
      <td>114.000000</td>
      <td>20.000000</td>
      <td>235.300000</td>
      <td>113.000000</td>
      <td>10.590000</td>
      <td>12.100000</td>
      <td>6.000000</td>
      <td>3.270000</td>
      <td>2.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>243.000000</td>
      <td>510.000000</td>
      <td>51.000000</td>
      <td>350.800000</td>
      <td>165.000000</td>
      <td>59.640000</td>
      <td>363.700000</td>
      <td>170.000000</td>
      <td>30.910000</td>
      <td>395.000000</td>
      <td>175.000000</td>
      <td>17.770000</td>
      <td>20.000000</td>
      <td>20.000000</td>
      <td>5.400000</td>
      <td>9.000000</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>



<p>ÈÄöËøá include ÂèÇÊï∞ÊòæÂºèÊåáÂÆöÂåÖÂê´ÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÂèØ‰ª•Êü•ÁúãÈùûÊï∞ÂÄºÁâπÂæÅÁöÑÁªüËÆ°Êï∞ÊçÆ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.describe(include=[<span class="string">'object'</span>, <span class="string">'bool'</span>])</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>3333</td>
      <td>3333</td>
      <td>3333</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>51</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>top</th>
      <td>WV</td>
      <td>No</td>
      <td>No</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>106</td>
      <td>3010</td>
      <td>2411</td>
    </tr>
  </tbody>
</table>
</div>



<p><code>value_counts()</code> ÊñπÊ≥ïÂèØ‰ª•Êü•ÁúãÁ±ªÂà´ÔºàÁ±ªÂûã‰∏∫ object ÔºâÂíåÂ∏ÉÂ∞îÂÄºÔºàÁ±ªÂûã‰∏∫ bool ÔºâÁâπÂæÅ„ÄÇËÆ©Êàë‰ª¨Áúã‰∏ã Churn Á¶ªÁΩëÁéá ÁöÑÂàÜÂ∏É„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'Churn'</span>].value_counts()</span><br></pre></td></tr></table></figure>




<pre><code>0    2850
1     483
Name: Churn, dtype: int64</code></pre><p>‰∏äËø∞ÁªìÊûúË°®ÊòéÔºåÂú® 3333 ‰ΩçÂÆ¢Êà∑‰∏≠Ôºå 2850 ‰ΩçÊòØÂø†ÂÆûÂÆ¢Êà∑Ôºå‰ªñ‰ª¨ÁöÑ <code>Churn</code> ÂÄº‰∏∫ 0„ÄÇË∞ÉÁî® <code>value_counts()</code> ÂáΩÊï∞Êó∂ÔºåÂä†‰∏ä <code>normalize=True</code> ÂèÇÊï∞ÂèØ‰ª•ÊòæÁ§∫ÊØî‰æã„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'Churn'</span>].value_counts(normalize=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>




<pre><code>0    0.855086
1    0.144914
Name: Churn, dtype: float64</code></pre><h3 id="ÊéíÂ∫è"><a href="#ÊéíÂ∫è" class="headerlink" title="ÊéíÂ∫è"></a>ÊéíÂ∫è</h3><p>DataFrame ÂèØ‰ª•Ê†πÊçÆÊüê‰∏™ÂèòÈáèÁöÑÂÄºÔºà‰πüÂ∞±ÊòØÂàóÔºâÊéíÂ∫è„ÄÇÊØîÂ¶ÇÔºåÊ†πÊçÆÊØèÊó•Ê∂àË¥πÈ¢ùÊéíÂ∫èÔºàËÆæÁΩÆ ascending=False ÂÄíÂ∫èÊéíÂàóÔºâ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.sort_values(by=<span class="string">'Total day charge'</span>, ascending=<span class="literal">False</span>).head(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>Total eve calls</th>
      <th>Total eve charge</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>365</th>
      <td>CO</td>
      <td>154</td>
      <td>415</td>
      <td>No</td>
      <td>No</td>
      <td>0</td>
      <td>350.8</td>
      <td>75</td>
      <td>59.64</td>
      <td>216.5</td>
      <td>94</td>
      <td>18.40</td>
      <td>253.9</td>
      <td>100</td>
      <td>11.43</td>
      <td>10.1</td>
      <td>9</td>
      <td>2.73</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>985</th>
      <td>NY</td>
      <td>64</td>
      <td>415</td>
      <td>Yes</td>
      <td>No</td>
      <td>0</td>
      <td>346.8</td>
      <td>55</td>
      <td>58.96</td>
      <td>249.5</td>
      <td>79</td>
      <td>21.21</td>
      <td>275.4</td>
      <td>102</td>
      <td>12.39</td>
      <td>13.3</td>
      <td>9</td>
      <td>3.59</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2594</th>
      <td>OH</td>
      <td>115</td>
      <td>510</td>
      <td>Yes</td>
      <td>No</td>
      <td>0</td>
      <td>345.3</td>
      <td>81</td>
      <td>58.70</td>
      <td>203.4</td>
      <td>106</td>
      <td>17.29</td>
      <td>217.5</td>
      <td>107</td>
      <td>9.79</td>
      <td>11.8</td>
      <td>8</td>
      <td>3.19</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>156</th>
      <td>OH</td>
      <td>83</td>
      <td>415</td>
      <td>No</td>
      <td>No</td>
      <td>0</td>
      <td>337.4</td>
      <td>120</td>
      <td>57.36</td>
      <td>227.4</td>
      <td>116</td>
      <td>19.33</td>
      <td>153.9</td>
      <td>114</td>
      <td>6.93</td>
      <td>15.8</td>
      <td>7</td>
      <td>4.27</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>605</th>
      <td>MO</td>
      <td>112</td>
      <td>415</td>
      <td>No</td>
      <td>No</td>
      <td>0</td>
      <td>335.5</td>
      <td>77</td>
      <td>57.04</td>
      <td>212.5</td>
      <td>109</td>
      <td>18.06</td>
      <td>265.0</td>
      <td>132</td>
      <td>11.93</td>
      <td>12.7</td>
      <td>8</td>
      <td>3.43</td>
      <td>2</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>



<p>Ê≠§Â§ñÔºåËøòÂèØ‰ª•Ê†πÊçÆÂ§ö‰∏™ÂàóÁöÑÊï∞ÂÄºÊéíÂ∫è„ÄÇ‰∏ãÈù¢ÂáΩÊï∞ÂÆûÁé∞ÁöÑÂäüËÉΩ‰∏∫ÔºöÂÖàÊåâ Churn Á¶ªÁΩëÁéá ÂçáÂ∫èÊéíÂàóÔºåÂÜçÊåâ Total day charge ÊØèÊó•ÊÄªËØùË¥π ÈôçÂ∫èÊéíÂàóÔºå‰ºòÂÖàÁ∫ß Churn &gt; Tatal day charge„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.sort_values(by=[<span class="string">'Churn'</span>, <span class="string">'Total day charge'</span>], ascending=[<span class="literal">True</span>, <span class="literal">False</span>]).head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>Total eve calls</th>
      <th>Total eve charge</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>688</th>
      <td>MN</td>
      <td>13</td>
      <td>510</td>
      <td>No</td>
      <td>Yes</td>
      <td>21</td>
      <td>315.6</td>
      <td>105</td>
      <td>53.65</td>
      <td>208.9</td>
      <td>71</td>
      <td>17.76</td>
      <td>260.1</td>
      <td>123</td>
      <td>11.70</td>
      <td>12.1</td>
      <td>3</td>
      <td>3.27</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2259</th>
      <td>NC</td>
      <td>210</td>
      <td>415</td>
      <td>No</td>
      <td>Yes</td>
      <td>31</td>
      <td>313.8</td>
      <td>87</td>
      <td>53.35</td>
      <td>147.7</td>
      <td>103</td>
      <td>12.55</td>
      <td>192.7</td>
      <td>97</td>
      <td>8.67</td>
      <td>10.1</td>
      <td>7</td>
      <td>2.73</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>534</th>
      <td>LA</td>
      <td>67</td>
      <td>510</td>
      <td>No</td>
      <td>No</td>
      <td>0</td>
      <td>310.4</td>
      <td>97</td>
      <td>52.77</td>
      <td>66.5</td>
      <td>123</td>
      <td>5.65</td>
      <td>246.5</td>
      <td>99</td>
      <td>11.09</td>
      <td>9.2</td>
      <td>10</td>
      <td>2.48</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>575</th>
      <td>SD</td>
      <td>114</td>
      <td>415</td>
      <td>No</td>
      <td>Yes</td>
      <td>36</td>
      <td>309.9</td>
      <td>90</td>
      <td>52.68</td>
      <td>200.3</td>
      <td>89</td>
      <td>17.03</td>
      <td>183.5</td>
      <td>105</td>
      <td>8.26</td>
      <td>14.2</td>
      <td>2</td>
      <td>3.83</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2858</th>
      <td>AL</td>
      <td>141</td>
      <td>510</td>
      <td>No</td>
      <td>Yes</td>
      <td>28</td>
      <td>308.0</td>
      <td>123</td>
      <td>52.36</td>
      <td>247.8</td>
      <td>128</td>
      <td>21.06</td>
      <td>152.9</td>
      <td>103</td>
      <td>6.88</td>
      <td>7.4</td>
      <td>3</td>
      <td>2.00</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="Á¥¢ÂºïÂíåËé∑ÂèñÊï∞ÊçÆ"><a href="#Á¥¢ÂºïÂíåËé∑ÂèñÊï∞ÊçÆ" class="headerlink" title="Á¥¢ÂºïÂíåËé∑ÂèñÊï∞ÊçÆ"></a>Á¥¢ÂºïÂíåËé∑ÂèñÊï∞ÊçÆ</h3><p>DataFrame ÂèØ‰ª•‰ª•‰∏çÂêåÁöÑÊñπÂºèËøõË°åÁ¥¢Âºï„ÄÇ</p>
<p>‰ΩøÁî® <code>DataFrame[&#39;Name&#39;]</code> ÂèØ‰ª•ÂæóÂà∞‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂàó„ÄÇÊØîÂ¶ÇÔºåÁ¶ªÁΩëÁéáÊúâÂ§öÈ´òÔºü</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'Churn'</span>].mean()</span><br></pre></td></tr></table></figure>




<pre><code>0.14491449144914492</code></pre><p>ÂØπ‰∏ÄÂÆ∂ÂÖ¨Âè∏ËÄåË®ÄÔºå14.5% ÁöÑÁ¶ªÁΩëÁéáÊòØ‰∏Ä‰∏™ÂæàÁ≥üÁ≥ïÁöÑÊï∞ÊçÆÔºåËøô‰πàÈ´òÁöÑÁ¶ªÁΩëÁéáÂèØËÉΩÂØºËá¥ÂÖ¨Âè∏Á†¥‰∫ß„ÄÇ</p>
<p>Â∏ÉÂ∞îÂÄºÁ¥¢ÂºïÂêåÊ†∑ÂæàÊñπ‰æøÔºåËØ≠Ê≥ïÊòØ <code>df[P(df[&#39;Name&#39;])]</code>ÔºåP ÊòØÂú®Ê£ÄÊü• Name ÂàóÊØè‰∏™ÂÖÉÁ¥†Êó∂ÊâÄ‰ΩøÁî®ÁöÑÈÄªËæëÊù°‰ª∂„ÄÇËøô‰∏ÄÁ¥¢ÂºïÁöÑËæìÂá∫ÊòØ DataFrame ÁöÑ Name Âàó‰∏≠Êª°Ë∂≥ P Êù°‰ª∂ÁöÑË°å„ÄÇ</p>
<p>ËÆ©Êàë‰ª¨‰ΩøÁî®Â∏ÉÂ∞îÂÄºÁ¥¢ÂºïÊù•ÂõûÁ≠îËøôÊ†∑‰ª•‰∏ãÈóÆÈ¢òÔºöÁ¶ªÁΩëÁî®Êà∑ÁöÑÊï∞ÂÄºÂèòÈáèÁöÑÂùáÂÄºÊòØÂ§öÂ∞ëÔºü</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[df[<span class="string">'Churn'</span>] == <span class="number">1</span>].mean()</span><br></pre></td></tr></table></figure>




<pre><code>Account length            102.664596
Area code                 437.817805
Number vmail messages       5.115942
Total day minutes         206.914079
Total day calls           101.335404
Total day charge           35.175921
Total eve minutes         212.410145
Total eve calls           100.561077
Total eve charge           18.054969
Total night minutes       205.231677
Total night calls         100.399586
Total night charge          9.235528
Total intl minutes         10.700000
Total intl calls            4.163561
Total intl charge           2.889545
Customer service calls      2.229814
Churn                       1.000000
dtype: float64</code></pre><p>Á¶ªÁΩëÁî®Êà∑Âú®ÁôΩÂ§©ÊâìÁîµËØùÁöÑÊÄªÊó∂ÈïøÁöÑÂùáÂÄºÊòØÂ§öÂ∞ëÔºü</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[df[<span class="string">'Churn'</span>] == <span class="number">1</span>][<span class="string">'Total day minutes'</span>].mean()</span><br></pre></td></tr></table></figure>




<pre><code>206.91407867494823</code></pre><p>Êú™‰ΩøÁî®ÂõΩÈôÖÂ•óÈ§êÔºà<code>International plan == NO</code>ÔºâÁöÑÂø†ÂÆûÁî®Êà∑Ôºà<code>Churn == 0</code>ÔºâÊâÄÊâìÁöÑÊúÄÈïøÁöÑÂõΩÈôÖÈïøÈÄîÊòØÂ§ö‰πÖÔºü</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df[(df[<span class="string">'Churn'</span>] == <span class="number">1</span>) &amp; (df[<span class="string">'International plan'</span>] == <span class="string">'No'</span>)][<span class="string">'Total intl minutes'</span>].max()</span><br><span class="line">df[(df[<span class="string">'Churn'</span>] == <span class="number">0</span>) &amp; (df[<span class="string">'International plan'</span>] == <span class="string">'No'</span>)][<span class="string">'Total intl minutes'</span>].max()</span><br></pre></td></tr></table></figure>




<pre><code>18.9</code></pre><p>DataFrame ÂèØ‰ª•ÈÄöËøáÂàóÂêç„ÄÅË°åÂêç„ÄÅË°åÂè∑ËøõË°åÁ¥¢Âºï„ÄÇ<code>loc</code> ÊñπÊ≥ï‰∏∫ÈÄöËøáÂêçÁß∞Á¥¢ÂºïÔºå<code>iloc</code> ÊñπÊ≥ï‰∏∫ÈÄöËøáÊï∞Â≠óÁ¥¢Âºï„ÄÇ</p>
<p>ÈÄöËøá <code>loc</code> ÊñπÊ≥ïËæìÂá∫ 0 Ëá≥ 5 Ë°å„ÄÅState Â∑û Ëá≥ Area code Âå∫Âè∑ ÁöÑÊï∞ÊçÆ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[<span class="number">0</span>:<span class="number">5</span>, [<span class="string">'State'</span>,<span class="string">'Area code'</span>]]</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Area code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>KS</td>
      <td>415</td>
    </tr>
    <tr>
      <th>1</th>
      <td>OH</td>
      <td>415</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NJ</td>
      <td>415</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OH</td>
      <td>408</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OK</td>
      <td>415</td>
    </tr>
    <tr>
      <th>5</th>
      <td>AL</td>
      <td>510</td>
    </tr>
  </tbody>
</table>
</div>



<p>ÈÄöËøá <code>ilo</code> ÊñπÊ≥ïËæìÂá∫Ââç 5 Ë°åÁöÑÂâç 3 ÂàóÊï∞ÊçÆÔºàÂíåÂÖ∏ÂûãÁöÑ Python ÂàáÁâá‰∏ÄÊ†∑Ôºå‰∏çÂê´ÊúÄÂ§ßÂÄºÔºâ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[<span class="number">0</span>:<span class="number">5</span>, <span class="number">0</span>:<span class="number">3</span>]</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>KS</td>
      <td>128</td>
      <td>415</td>
    </tr>
    <tr>
      <th>1</th>
      <td>OH</td>
      <td>107</td>
      <td>415</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NJ</td>
      <td>137</td>
      <td>415</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OH</td>
      <td>84</td>
      <td>408</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OK</td>
      <td>75</td>
      <td>415</td>
    </tr>
  </tbody>
</table>
</div>



<p><code>df[:1]</code> Âíå <code>df[-1:]</code> ÂèØ‰ª•ÂæóÂà∞ DataFrame ÁöÑÈ¶ñË°åÂíåÊú´Ë°å„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="number">-2</span>:]</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>Total eve calls</th>
      <th>Total eve charge</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3331</th>
      <td>CT</td>
      <td>184</td>
      <td>510</td>
      <td>Yes</td>
      <td>No</td>
      <td>0</td>
      <td>213.8</td>
      <td>105</td>
      <td>36.35</td>
      <td>159.6</td>
      <td>84</td>
      <td>13.57</td>
      <td>139.2</td>
      <td>137</td>
      <td>6.26</td>
      <td>5.0</td>
      <td>10</td>
      <td>1.35</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3332</th>
      <td>TN</td>
      <td>74</td>
      <td>415</td>
      <td>No</td>
      <td>Yes</td>
      <td>25</td>
      <td>234.4</td>
      <td>113</td>
      <td>39.85</td>
      <td>265.9</td>
      <td>82</td>
      <td>22.60</td>
      <td>241.4</td>
      <td>77</td>
      <td>10.86</td>
      <td>13.7</td>
      <td>4</td>
      <td>3.70</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="Â∫îÁî®ÂáΩÊï∞Âà∞ÂçïÂÖÉÊ†º„ÄÅÂàó„ÄÅË°å"><a href="#Â∫îÁî®ÂáΩÊï∞Âà∞ÂçïÂÖÉÊ†º„ÄÅÂàó„ÄÅË°å" class="headerlink" title="Â∫îÁî®ÂáΩÊï∞Âà∞ÂçïÂÖÉÊ†º„ÄÅÂàó„ÄÅË°å"></a>Â∫îÁî®ÂáΩÊï∞Âà∞ÂçïÂÖÉÊ†º„ÄÅÂàó„ÄÅË°å</h3><p>‰∏ãÈù¢ÈÄöËøá <code>apply()</code> ÊñπÊ≥ïÂ∫îÁî®ÂáΩÊï∞ <code>max</code> Ëá≥ÊØè‰∏ÄÂàóÔºåÂç≥ËæìÂá∫ÊØèÂàóÁöÑÊúÄÂ§ßÂÄº„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.apply(np.max)</span><br></pre></td></tr></table></figure>




<pre><code>State                        WY
Account length              243
Area code                   510
International plan          Yes
Voice mail plan             Yes
Number vmail messages        51
Total day minutes         350.8
Total day calls             165
Total day charge          59.64
Total eve minutes         363.7
Total eve calls             170
Total eve charge          30.91
Total night minutes         395
Total night calls           175
Total night charge        17.77
Total intl minutes           20
Total intl calls             20
Total intl charge           5.4
Customer service calls        9
Churn                         1
dtype: object</code></pre><p><code>apply()</code> ÊñπÊ≥ï‰πüÂèØ‰ª•Â∫îÁî®ÂáΩÊï∞Ëá≥ÊØè‰∏ÄË°åÔºåÊåáÂÆö axis=1 Âç≥ÂèØ„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî® <code>lambda</code> ÂáΩÊï∞ÂçÅÂàÜÊñπ‰æø„ÄÇÊØîÂ¶ÇÔºå‰∏ãÈù¢ÂáΩÊï∞ÈÄâ‰∏≠‰∫ÜÊâÄÊúâ‰ª• W ÂºÄÂ§¥ÁöÑÂ∑û„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[df[<span class="string">'State'</span>].apply(<span class="keyword">lambda</span> state: state[<span class="number">0</span>] == <span class="string">'W'</span>)].head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>Total eve calls</th>
      <th>Total eve charge</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>9</th>
      <td>WV</td>
      <td>141</td>
      <td>415</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>37</td>
      <td>258.6</td>
      <td>84</td>
      <td>43.96</td>
      <td>222.0</td>
      <td>111</td>
      <td>18.87</td>
      <td>326.4</td>
      <td>97</td>
      <td>14.69</td>
      <td>11.2</td>
      <td>5</td>
      <td>3.02</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>26</th>
      <td>WY</td>
      <td>57</td>
      <td>408</td>
      <td>No</td>
      <td>Yes</td>
      <td>39</td>
      <td>213.0</td>
      <td>115</td>
      <td>36.21</td>
      <td>191.1</td>
      <td>112</td>
      <td>16.24</td>
      <td>182.7</td>
      <td>115</td>
      <td>8.22</td>
      <td>9.5</td>
      <td>3</td>
      <td>2.57</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>44</th>
      <td>WI</td>
      <td>64</td>
      <td>510</td>
      <td>No</td>
      <td>No</td>
      <td>0</td>
      <td>154.0</td>
      <td>67</td>
      <td>26.18</td>
      <td>225.8</td>
      <td>118</td>
      <td>19.19</td>
      <td>265.3</td>
      <td>86</td>
      <td>11.94</td>
      <td>3.5</td>
      <td>3</td>
      <td>0.95</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>49</th>
      <td>WY</td>
      <td>97</td>
      <td>415</td>
      <td>No</td>
      <td>Yes</td>
      <td>24</td>
      <td>133.2</td>
      <td>135</td>
      <td>22.64</td>
      <td>217.2</td>
      <td>58</td>
      <td>18.46</td>
      <td>70.6</td>
      <td>79</td>
      <td>3.18</td>
      <td>11.0</td>
      <td>3</td>
      <td>2.97</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>54</th>
      <td>WY</td>
      <td>87</td>
      <td>415</td>
      <td>No</td>
      <td>No</td>
      <td>0</td>
      <td>151.0</td>
      <td>83</td>
      <td>25.67</td>
      <td>219.7</td>
      <td>116</td>
      <td>18.67</td>
      <td>203.9</td>
      <td>127</td>
      <td>9.18</td>
      <td>9.7</td>
      <td>3</td>
      <td>2.62</td>
      <td>5</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>



<p><code>map()</code> ÊñπÊ≥ïÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™ {old_value:new_value} ÂΩ¢ÂºèÁöÑÂ≠óÂÖ∏ÊõøÊç¢Êüê‰∏ÄÂàó‰∏≠ÁöÑÂÄº„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">'No'</span>: <span class="literal">False</span>, <span class="string">'Yes'</span>: <span class="literal">True</span>&#125;</span><br><span class="line">df[<span class="string">'International plan'</span>] = df[<span class="string">'International plan'</span>].map(d)</span><br><span class="line">df.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>Total eve calls</th>
      <th>Total eve charge</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>KS</td>
      <td>128</td>
      <td>415</td>
      <td>False</td>
      <td>Yes</td>
      <td>25</td>
      <td>265.1</td>
      <td>110</td>
      <td>45.07</td>
      <td>197.4</td>
      <td>99</td>
      <td>16.78</td>
      <td>244.7</td>
      <td>91</td>
      <td>11.01</td>
      <td>10.0</td>
      <td>3</td>
      <td>2.70</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>OH</td>
      <td>107</td>
      <td>415</td>
      <td>False</td>
      <td>Yes</td>
      <td>26</td>
      <td>161.6</td>
      <td>123</td>
      <td>27.47</td>
      <td>195.5</td>
      <td>103</td>
      <td>16.62</td>
      <td>254.4</td>
      <td>103</td>
      <td>11.45</td>
      <td>13.7</td>
      <td>3</td>
      <td>3.70</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NJ</td>
      <td>137</td>
      <td>415</td>
      <td>False</td>
      <td>No</td>
      <td>0</td>
      <td>243.4</td>
      <td>114</td>
      <td>41.38</td>
      <td>121.2</td>
      <td>110</td>
      <td>10.30</td>
      <td>162.6</td>
      <td>104</td>
      <td>7.32</td>
      <td>12.2</td>
      <td>5</td>
      <td>3.29</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OH</td>
      <td>84</td>
      <td>408</td>
      <td>True</td>
      <td>No</td>
      <td>0</td>
      <td>299.4</td>
      <td>71</td>
      <td>50.90</td>
      <td>61.9</td>
      <td>88</td>
      <td>5.26</td>
      <td>196.9</td>
      <td>89</td>
      <td>8.86</td>
      <td>6.6</td>
      <td>7</td>
      <td>1.78</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OK</td>
      <td>75</td>
      <td>415</td>
      <td>True</td>
      <td>No</td>
      <td>0</td>
      <td>166.7</td>
      <td>113</td>
      <td>28.34</td>
      <td>148.3</td>
      <td>122</td>
      <td>12.61</td>
      <td>186.9</td>
      <td>121</td>
      <td>8.41</td>
      <td>10.1</td>
      <td>3</td>
      <td>2.73</td>
      <td>3</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>



<p>ÂΩìÁÑ∂Ôºå‰ΩøÁî® <code>repalce()</code> ÊñπÊ≥ï‰∏ÄÊ†∑ÂèØ‰ª•ËææÂà∞ÊõøÊç¢ÁöÑÁõÆÁöÑ„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = df.replace(&#123;<span class="string">'Voice mail plan'</span>: d&#125;)</span><br><span class="line">df.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>Total eve calls</th>
      <th>Total eve charge</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>KS</td>
      <td>128</td>
      <td>415</td>
      <td>False</td>
      <td>True</td>
      <td>25</td>
      <td>265.1</td>
      <td>110</td>
      <td>45.07</td>
      <td>197.4</td>
      <td>99</td>
      <td>16.78</td>
      <td>244.7</td>
      <td>91</td>
      <td>11.01</td>
      <td>10.0</td>
      <td>3</td>
      <td>2.70</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>OH</td>
      <td>107</td>
      <td>415</td>
      <td>False</td>
      <td>True</td>
      <td>26</td>
      <td>161.6</td>
      <td>123</td>
      <td>27.47</td>
      <td>195.5</td>
      <td>103</td>
      <td>16.62</td>
      <td>254.4</td>
      <td>103</td>
      <td>11.45</td>
      <td>13.7</td>
      <td>3</td>
      <td>3.70</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NJ</td>
      <td>137</td>
      <td>415</td>
      <td>False</td>
      <td>False</td>
      <td>0</td>
      <td>243.4</td>
      <td>114</td>
      <td>41.38</td>
      <td>121.2</td>
      <td>110</td>
      <td>10.30</td>
      <td>162.6</td>
      <td>104</td>
      <td>7.32</td>
      <td>12.2</td>
      <td>5</td>
      <td>3.29</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OH</td>
      <td>84</td>
      <td>408</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>299.4</td>
      <td>71</td>
      <td>50.90</td>
      <td>61.9</td>
      <td>88</td>
      <td>5.26</td>
      <td>196.9</td>
      <td>89</td>
      <td>8.86</td>
      <td>6.6</td>
      <td>7</td>
      <td>1.78</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OK</td>
      <td>75</td>
      <td>415</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>166.7</td>
      <td>113</td>
      <td>28.34</td>
      <td>148.3</td>
      <td>122</td>
      <td>12.61</td>
      <td>186.9</td>
      <td>121</td>
      <td>8.41</td>
      <td>10.1</td>
      <td>3</td>
      <td>2.73</td>
      <td>3</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="Â¢ûÂáè-DataFrame-ÁöÑË°åÂàó"><a href="#Â¢ûÂáè-DataFrame-ÁöÑË°åÂàó" class="headerlink" title="Â¢ûÂáè DataFrame ÁöÑË°åÂàó"></a>Â¢ûÂáè DataFrame ÁöÑË°åÂàó</h3><p>Âú® DataFrame ‰∏≠Êñ∞Â¢ûÂàóÊúâÂæàÂ§öÊñπÊ≥ïÔºåÊØîÂ¶ÇÔºå‰ΩøÁî® <code>insert()</code>ÊñπÊ≥ïÊ∑ªÂä†ÂàóÔºå‰∏∫ÊâÄÊúâÁî®Êà∑ËÆ°ÁÆóÊÄªÁöÑ Total calls ÁîµËØùÈáè„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">total_calls = df[<span class="string">'Total day calls'</span>] + df[<span class="string">'Total eve calls'</span>] + \</span><br><span class="line">df[<span class="string">'Total night calls'</span>] + df[<span class="string">'Total intl calls'</span>]</span><br><span class="line"></span><br><span class="line">df.insert(loc=len(df.columns), column=<span class="string">'Total calls 2'</span>, value=total_calls)</span><br><span class="line"></span><br><span class="line">df.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>...</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
      <th>Total calls</th>
      <th>Total calls 2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>KS</td>
      <td>128</td>
      <td>415</td>
      <td>False</td>
      <td>True</td>
      <td>25</td>
      <td>265.1</td>
      <td>110</td>
      <td>45.07</td>
      <td>197.4</td>
      <td>...</td>
      <td>244.7</td>
      <td>91</td>
      <td>11.01</td>
      <td>10.0</td>
      <td>3</td>
      <td>2.70</td>
      <td>1</td>
      <td>0</td>
      <td>303</td>
      <td>303</td>
    </tr>
    <tr>
      <th>1</th>
      <td>OH</td>
      <td>107</td>
      <td>415</td>
      <td>False</td>
      <td>True</td>
      <td>26</td>
      <td>161.6</td>
      <td>123</td>
      <td>27.47</td>
      <td>195.5</td>
      <td>...</td>
      <td>254.4</td>
      <td>103</td>
      <td>11.45</td>
      <td>13.7</td>
      <td>3</td>
      <td>3.70</td>
      <td>1</td>
      <td>0</td>
      <td>332</td>
      <td>332</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NJ</td>
      <td>137</td>
      <td>415</td>
      <td>False</td>
      <td>False</td>
      <td>0</td>
      <td>243.4</td>
      <td>114</td>
      <td>41.38</td>
      <td>121.2</td>
      <td>...</td>
      <td>162.6</td>
      <td>104</td>
      <td>7.32</td>
      <td>12.2</td>
      <td>5</td>
      <td>3.29</td>
      <td>0</td>
      <td>0</td>
      <td>333</td>
      <td>333</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OH</td>
      <td>84</td>
      <td>408</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>299.4</td>
      <td>71</td>
      <td>50.90</td>
      <td>61.9</td>
      <td>...</td>
      <td>196.9</td>
      <td>89</td>
      <td>8.86</td>
      <td>6.6</td>
      <td>7</td>
      <td>1.78</td>
      <td>2</td>
      <td>0</td>
      <td>255</td>
      <td>255</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OK</td>
      <td>75</td>
      <td>415</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>166.7</td>
      <td>113</td>
      <td>28.34</td>
      <td>148.3</td>
      <td>...</td>
      <td>186.9</td>
      <td>121</td>
      <td>8.41</td>
      <td>10.1</td>
      <td>3</td>
      <td>2.73</td>
      <td>3</td>
      <td>0</td>
      <td>359</td>
      <td>359</td>
    </tr>
  </tbody>
</table>
<p>5 rows √ó 22 columns</p>
</div>



<p>‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂàõÂª∫‰∫Ü‰∏Ä‰∏™‰∏≠Èó¥ Series ÂÆû‰æãÔºåÂç≥ tatal_callsÔºåÂÖ∂ÂÆûÂèØ‰ª•Âú®‰∏çÂàõÈÄ†Ëøô‰∏™ÂÆû‰æãÁöÑÊÉÖÂÜµ‰∏ãÁõ¥Êé•Ê∑ªÂä†Âàó„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'Total charge'</span>] = df[<span class="string">'Total day charge'</span>] + df[<span class="string">'Total eve charge'</span>] + \</span><br><span class="line">df[<span class="string">'Total night charge'</span>] + df[<span class="string">'Total intl charge'</span>]</span><br><span class="line">df.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>...</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
      <th>Total calls</th>
      <th>Total calls 2</th>
      <th>Total charge</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>KS</td>
      <td>128</td>
      <td>415</td>
      <td>False</td>
      <td>True</td>
      <td>25</td>
      <td>265.1</td>
      <td>110</td>
      <td>45.07</td>
      <td>197.4</td>
      <td>...</td>
      <td>91</td>
      <td>11.01</td>
      <td>10.0</td>
      <td>3</td>
      <td>2.70</td>
      <td>1</td>
      <td>0</td>
      <td>303</td>
      <td>303</td>
      <td>75.56</td>
    </tr>
    <tr>
      <th>1</th>
      <td>OH</td>
      <td>107</td>
      <td>415</td>
      <td>False</td>
      <td>True</td>
      <td>26</td>
      <td>161.6</td>
      <td>123</td>
      <td>27.47</td>
      <td>195.5</td>
      <td>...</td>
      <td>103</td>
      <td>11.45</td>
      <td>13.7</td>
      <td>3</td>
      <td>3.70</td>
      <td>1</td>
      <td>0</td>
      <td>332</td>
      <td>332</td>
      <td>59.24</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NJ</td>
      <td>137</td>
      <td>415</td>
      <td>False</td>
      <td>False</td>
      <td>0</td>
      <td>243.4</td>
      <td>114</td>
      <td>41.38</td>
      <td>121.2</td>
      <td>...</td>
      <td>104</td>
      <td>7.32</td>
      <td>12.2</td>
      <td>5</td>
      <td>3.29</td>
      <td>0</td>
      <td>0</td>
      <td>333</td>
      <td>333</td>
      <td>62.29</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OH</td>
      <td>84</td>
      <td>408</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>299.4</td>
      <td>71</td>
      <td>50.90</td>
      <td>61.9</td>
      <td>...</td>
      <td>89</td>
      <td>8.86</td>
      <td>6.6</td>
      <td>7</td>
      <td>1.78</td>
      <td>2</td>
      <td>0</td>
      <td>255</td>
      <td>255</td>
      <td>66.80</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OK</td>
      <td>75</td>
      <td>415</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>166.7</td>
      <td>113</td>
      <td>28.34</td>
      <td>148.3</td>
      <td>...</td>
      <td>121</td>
      <td>8.41</td>
      <td>10.1</td>
      <td>3</td>
      <td>2.73</td>
      <td>3</td>
      <td>0</td>
      <td>359</td>
      <td>359</td>
      <td>52.09</td>
    </tr>
  </tbody>
</table>
<p>5 rows √ó 23 columns</p>
</div>



<p>‰ΩøÁî® <code>drop()</code> ÊñπÊ≥ïÂà†Èô§ÂàóÂíåË°å„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1 = df.drop([<span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">df1.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Account length</th>
      <th>Area code</th>
      <th>International plan</th>
      <th>Voice mail plan</th>
      <th>Number vmail messages</th>
      <th>Total day minutes</th>
      <th>Total day calls</th>
      <th>Total day charge</th>
      <th>Total eve minutes</th>
      <th>...</th>
      <th>Total night minutes</th>
      <th>Total night calls</th>
      <th>Total night charge</th>
      <th>Total intl minutes</th>
      <th>Total intl calls</th>
      <th>Total intl charge</th>
      <th>Customer service calls</th>
      <th>Churn</th>
      <th>Total calls</th>
      <th>Total charge</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>KS</td>
      <td>128</td>
      <td>415</td>
      <td>False</td>
      <td>True</td>
      <td>25</td>
      <td>265.1</td>
      <td>110</td>
      <td>45.07</td>
      <td>197.4</td>
      <td>...</td>
      <td>244.7</td>
      <td>91</td>
      <td>11.01</td>
      <td>10.0</td>
      <td>3</td>
      <td>2.70</td>
      <td>1</td>
      <td>0</td>
      <td>303</td>
      <td>75.56</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OH</td>
      <td>84</td>
      <td>408</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>299.4</td>
      <td>71</td>
      <td>50.90</td>
      <td>61.9</td>
      <td>...</td>
      <td>196.9</td>
      <td>89</td>
      <td>8.86</td>
      <td>6.6</td>
      <td>7</td>
      <td>1.78</td>
      <td>2</td>
      <td>0</td>
      <td>255</td>
      <td>66.80</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OK</td>
      <td>75</td>
      <td>415</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>166.7</td>
      <td>113</td>
      <td>28.34</td>
      <td>148.3</td>
      <td>...</td>
      <td>186.9</td>
      <td>121</td>
      <td>8.41</td>
      <td>10.1</td>
      <td>3</td>
      <td>2.73</td>
      <td>3</td>
      <td>0</td>
      <td>359</td>
      <td>52.09</td>
    </tr>
    <tr>
      <th>5</th>
      <td>AL</td>
      <td>118</td>
      <td>510</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>223.4</td>
      <td>98</td>
      <td>37.98</td>
      <td>220.6</td>
      <td>...</td>
      <td>203.9</td>
      <td>118</td>
      <td>9.18</td>
      <td>6.3</td>
      <td>6</td>
      <td>1.70</td>
      <td>0</td>
      <td>0</td>
      <td>323</td>
      <td>67.61</td>
    </tr>
    <tr>
      <th>6</th>
      <td>MA</td>
      <td>121</td>
      <td>510</td>
      <td>False</td>
      <td>True</td>
      <td>24</td>
      <td>218.2</td>
      <td>88</td>
      <td>37.09</td>
      <td>348.5</td>
      <td>...</td>
      <td>212.6</td>
      <td>118</td>
      <td>9.57</td>
      <td>7.5</td>
      <td>7</td>
      <td>2.03</td>
      <td>3</td>
      <td>0</td>
      <td>321</td>
      <td>78.31</td>
    </tr>
  </tbody>
</table>
<p>5 rows √ó 22 columns</p>
</div>



<p>ÂØπ‰∏äËø∞‰ª£Á†ÅÁöÑÈÉ®ÂàÜËß£ÈáäÔºö</p>
<ul>
<li>Â∞ÜÁõ∏Â∫îÁöÑÁ¥¢Âºï <code>[&#39;Total charge&#39;, &#39;Total calls&#39;]</code> Âíå <code>axis</code> ÂèÇÊï∞Ôºà1 Ë°®Á§∫Âà†Èô§ÂàóÔºå0 Ë°®Á§∫Âà†Èô§Ë°åÔºåÈªòËÆ§ÂÄº‰∏∫ 0Ôºâ‰º†Áªô <code>drop</code>„ÄÇ</li>
<li><code>inplace</code> ÂèÇÊï∞Ë°®Á§∫ÊòØÂê¶‰øÆÊîπÂéüÂßã DataFrame ÔºàFalse Ë°®Á§∫‰∏ç‰øÆÊîπÁé∞Êúâ DataFrameÔºåËøîÂõû‰∏Ä‰∏™Êñ∞ DataFrameÔºåTrue Ë°®Á§∫‰øÆÊîπÂΩìÂâç DataFrameÔºâ„ÄÇ</li>
</ul>
<h2 id="È¢ÑÊµãÁ¶ªÁΩëÁéá"><a href="#È¢ÑÊµãÁ¶ªÁΩëÁéá" class="headerlink" title="È¢ÑÊµãÁ¶ªÁΩëÁéá"></a>È¢ÑÊµãÁ¶ªÁΩëÁéá</h2><p>È¶ñÂÖàÔºåÈÄöËøá <code>crosstab()</code> ÊñπÊ≥ïÊûÑÂª∫‰∏Ä‰∏™‰∫§ÂèâË°®Êù•Êü•Áúã International plan ÂõΩÈôÖÂ•óÈ§ê ÂèòÈáèÂíå Churn Á¶ªÁΩëÁéá ÁöÑÁõ∏ÂÖ≥ÊÄßÔºåÂêåÊó∂‰ΩøÁî® <code>countplot()</code> ÊñπÊ≥ïÊûÑÂª∫ËÆ°Êï∞Áõ¥ÊñπÂõæÊù•ÂèØËßÜÂåñÁªìÊûú„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Âä†ËΩΩÊ®°ÂùóÔºåÈÖçÁΩÆÁªòÂõæ</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.countplot(x=<span class="string">'International plan'</span>, hue=<span class="string">'Churn'</span>, data=df)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11f0c8450&gt;</code></pre><p><img src="data/output_75_1.png" alt="png"></p>
<p>‰∏äÂõæË°®ÊòéÔºåÂºÄÈÄö‰∫ÜÂõΩÈôÖÂ•óÈ§êÁöÑÁî®Êà∑ÁöÑÁ¶ªÁΩëÁéáË¶ÅÈ´òÂæàÂ§öÔºåËøôÊòØ‰∏Ä‰∏™ÂæàÊúâË∂£ÁöÑËßÇÊµãÁªìÊûú„ÄÇ‰πüËÆ∏ÔºåÂõΩÈôÖÁîµËØùÈ´òÊòÇÁöÑËØùË¥πËÆ©ÂÆ¢Êà∑Âæà‰∏çÊª°ÊÑè„ÄÇ</p>
<p>ÂêåÁêÜÔºåÊü•Áúã Customer service calls ÂÆ¢ÊúçÂëºÂè´ ÂèòÈáè‰∏é Chunrn Á¶ªÁΩëÁéá ÁöÑÁõ∏ÂÖ≥ÊÄßÔºåÂπ∂ÂèØËßÜÂåñÁªìÊûú„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.crosstab(df[<span class="string">'Churn'</span>], df[<span class="string">'Customer service calls'</span>], margins=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Customer service calls</th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>All</th>
    </tr>
    <tr>
      <th>Churn</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>605</td>
      <td>1059</td>
      <td>672</td>
      <td>385</td>
      <td>90</td>
      <td>26</td>
      <td>8</td>
      <td>4</td>
      <td>1</td>
      <td>0</td>
      <td>2850</td>
    </tr>
    <tr>
      <th>1</th>
      <td>92</td>
      <td>122</td>
      <td>87</td>
      <td>44</td>
      <td>76</td>
      <td>40</td>
      <td>14</td>
      <td>5</td>
      <td>1</td>
      <td>2</td>
      <td>483</td>
    </tr>
    <tr>
      <th>All</th>
      <td>697</td>
      <td>1181</td>
      <td>759</td>
      <td>429</td>
      <td>166</td>
      <td>66</td>
      <td>22</td>
      <td>9</td>
      <td>2</td>
      <td>2</td>
      <td>3333</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.countplot(x=<span class="string">'Customer service calls'</span>, hue=<span class="string">'Churn'</span>, data=df)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11cb70d50&gt;</code></pre><p><img src="data/output_79_1.png" alt="png"></p>
<p>‰∏äÂõæË°®ÊòéÔºåÂú®ÂÆ¢ÊúçÂëºÂè´ 4 Ê¨°‰πãÂêéÔºåÂÆ¢Êà∑ÁöÑÁ¶ªÁΩëÁéáÊòæËëóÊèêÂçá„ÄÇ</p>
<p>‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÁ™ÅÂá∫ Customer service call ÂÆ¢ÊúçÂëºÂè´ Âíå Churn Á¶ªÁΩëÁéá ÁöÑÂÖ≥Á≥ªÔºåÂèØ‰ª•Áªô DataFrame Ê∑ªÂä†‰∏Ä‰∏™‰∫åÂÖÉÂ±ûÊÄß Many_service_callsÔºåÂç≥ÂÆ¢Êà∑ÂëºÂè´Ë∂ÖËøá 3 Ê¨°ÔºàCustomer service calls &gt; 3Ôºâ„ÄÇÁúã‰∏ãÂÆÉ‰∏éÁ¶ªÁΩëÁéáÁöÑÁõ∏ÂÖ≥ÊÄßÔºåÂπ∂ÂèØËßÜÂåñÁªìÊûú„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'Many_service_calls'</span>] = (df[<span class="string">'Customer service calls'</span>] &gt; <span class="number">3</span>).astype(<span class="string">'int'</span>)</span><br><span class="line"></span><br><span class="line">pd.crosstab(df[<span class="string">'Many_service_calls'</span>], df[<span class="string">'Churn'</span>], margins=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Churn</th>
      <th>0</th>
      <th>1</th>
      <th>All</th>
    </tr>
    <tr>
      <th>Many_service_calls</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2721</td>
      <td>345</td>
      <td>3066</td>
    </tr>
    <tr>
      <th>1</th>
      <td>129</td>
      <td>138</td>
      <td>267</td>
    </tr>
    <tr>
      <th>All</th>
      <td>2850</td>
      <td>483</td>
      <td>3333</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.countplot(x=<span class="string">'Many_service_calls'</span>, hue=<span class="string">'Churn'</span>, data=df)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11ce1c850&gt;</code></pre><p><img src="data/output_83_1.png" alt="png"></p>
<p>Áé∞Âú®Êàë‰ª¨ÂèØ‰ª•ÂàõÂª∫Âè¶‰∏ÄÂº†‰∫§ÂèâË°®ÔºåÂ∞Ü Churn Á¶ªÁΩëÁéá ‰∏é International plan ÂõΩÈôÖÂ•óÈ§ê ÂèäÊñ∞ÂàõÂª∫ÁöÑ Many_service_calls Â§öÊ¨°ÂÆ¢ÊúçÂëºÂè´ ÂÖ≥ËÅîËµ∑Êù•„ÄÇ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.crosstab(df[<span class="string">'Many_service_calls'</span>] &amp; df[<span class="string">'International plan'</span>], df[<span class="string">'Churn'</span>])</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Churn</th>
      <th>0</th>
      <th>1</th>
    </tr>
    <tr>
      <th>row_0</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>False</th>
      <td>2841</td>
      <td>464</td>
    </tr>
    <tr>
      <th>True</th>
      <td>9</td>
      <td>19</td>
    </tr>
  </tbody>
</table>
</div>



<p>‰∏äË°®Ë°®ÊòéÔºåÂú®ÂÆ¢ÊúçÂëºÂè´Ê¨°Êï∞Ë∂ÖËøá 3 Ê¨°Âπ∂‰∏îÂ∑≤ÂäûÁêÜ International Plan ÂõΩÈôÖÂ•óÈ§ê ÁöÑÊÉÖÂÜµ‰∏ãÔºåÈ¢ÑÊµã‰∏ÄÂêçÂÆ¢Êà∑‰∏çÂø†ËØöÁöÑÂáÜÁ°ÆÁéáÔºàAccuracyÔºâÂèØ‰ª•ËææÂà∞ 85.8ÔºÖÔºåËÆ°ÁÆóÂÖ¨ÂºèÂ¶Ç‰∏ãÔºö</p>
<p>$$ÂáÜÁ°ÆÁéáÔºàAccuracyÔºâ=\frac{TP+TN}{TP+TN+FP+FN}=\frac{2841+19}{2841+9+19+464}\times100%$$</p>
<p>ÂÖ∂‰∏≠ÔºåTP Ë°®Á§∫Â∞Ü True È¢ÑÊµã‰∏∫ True ÁöÑÊï∞ÈáèÔºåTN Ë°®Á§∫Â∞Ü Flase È¢ÑÊµã‰∏∫ Flase ÁöÑÊï∞ÈáèÔºåFP Ë°®Á§∫Â∞Ü Flase È¢ÑÊµã‰∏∫ True ÁöÑÊï∞ÈáèÔºåFN Ë°®Á§∫Â∞Ü True È¢ÑÊµã‰∏∫ Flase ÁöÑÊï∞Èáè„ÄÇ</p>
<p>Â§ç‰π†‰∏Ä‰∏ãÊú¨Ê¨°ÂÆûÈ™åÁöÑÂÜÖÂÆπÔºö</p>
<ul>
<li>Ê†∑Êú¨‰∏≠Âø†ÂÆûÂÆ¢Êà∑ÁöÑ‰ªΩÈ¢ù‰∏∫ 85.5%„ÄÇËøôÊÑèÂë≥ÁùÄÊúÄÁÆÄÂçïÁöÑÈ¢ÑÊµã„ÄåÂø†ÂÆûÂÆ¢Êà∑„ÄçÁöÑÊ®°ÂûãÊúâ 85.5% ÁöÑÊ¶ÇÁéáÁåúÂØπ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂêéÁª≠Ê®°ÂûãÁöÑÂáÜÁ°ÆÁéáÔºàAccuracyÔºâ‰∏çÂ∫îËØ•ÊØîËøô‰∏™Êï∞Â≠óÂ∞ëÔºåÂπ∂‰∏îÂæàÊúâÂ∏åÊúõÊòæËëóÈ´ò‰∫éËøô‰∏™Êï∞Â≠ó„ÄÇ</li>
<li>Âü∫‰∫é‰∏Ä‰∏™ÁÆÄÂçïÁöÑ„ÄåÔºàÂÆ¢ÊúçÂëºÂè´Ê¨°Êï∞ &gt; 3Ôºâ &amp; ÔºàÂõΩÈôÖÂ•óÈ§ê = TrueÔºâ =&gt; Churn = 1, else Churn = 0„ÄçËßÑÂàôÁöÑÈ¢ÑÊµãÊ®°ÂûãÔºåÂèØ‰ª•ÂæóÂà∞ 85.8% ÁöÑÂáÜÁ°ÆÁéá„ÄÇ‰ª•ÂêéÊàë‰ª¨Â∞ÜËÆ®ËÆ∫ÂÜ≥Á≠ñÊ†ëÔºåÁúãÁúãÂ¶Ç‰Ωï‰ªÖ‰ªÖÂü∫‰∫éËæìÂÖ•Êï∞ÊçÆËá™Âä®ÊâæÂá∫Á±ª‰ººÁöÑËßÑÂàôÔºåËÄå‰∏çÈúÄË¶ÅÊàë‰ª¨ÊâãÂ∑•ËÆæÂÆö„ÄÇÊàë‰ª¨Ê≤°ÊúâÂ∫îÁî®Êú∫Âô®Â≠¶‰π†ÊñπÊ≥ïÂ∞±ÂæóÂà∞‰∫Ü‰∏§‰∏™ÂáÜÁ°ÆÁéáÔºà85.5% Âíå 85.8%ÔºâÔºåÂÆÉ‰ª¨ÂèØ‰Ωú‰∏∫ÂêéÁª≠ÂÖ∂‰ªñÊ®°ÂûãÁöÑÂü∫Á∫ø„ÄÇÂ¶ÇÊûúÁªèËøáÂ§ßÈáèÁöÑÂä™ÂäõÔºåÊàë‰ª¨‰ªÖÂ∞ÜÂáÜÁ°ÆÁéáÊèêÈ´ò‰∫Ü 0.5%ÔºåÈÇ£‰πàÊàë‰ª¨Âä™ÂäõÁöÑÊñπÂêëÂèØËÉΩÂá∫Áé∞‰∫ÜÂÅèÂ∑ÆÔºåÂõ†‰∏∫‰ªÖ‰ªÖ‰ΩøÁî®‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™ÈôêÂà∂ËßÑÂàôÁöÑÁÆÄÂçïÊ®°ÂûãÂ∞±Â∑≤ÊèêÂçá‰∫Ü 0.3% ÁöÑÂáÜÁ°ÆÁéá„ÄÇ</li>
<li>Âú®ËÆ≠ÁªÉÂ§çÊùÇÊ®°Âûã‰πãÂâçÔºåÂª∫ËÆÆÈ¢ÑÂ§ÑÁêÜ‰∏Ä‰∏ãÊï∞ÊçÆÔºåÁªòÂà∂‰∏Ä‰∫õÂõæË°®ÔºåÂÅö‰∏Ä‰∫õÁÆÄÂçïÁöÑÂÅáËÆæ„ÄÇÊ≠§Â§ñÔºåÂú®ÂÆûÈôÖ‰ªªÂä°‰∏äÂ∫îÁî®Êú∫Âô®Â≠¶‰π†Êó∂ÔºåÈÄöÂ∏∏‰ªéÁÆÄÂçïÁöÑÊñπÊ°àÂºÄÂßãÔºåÊé•ÁùÄÂ∞ùËØïÊõ¥Â§çÊùÇÁöÑÊñπÊ°à„ÄÇ</li>
</ul>
<h3 id="ÂÆûÈ™åÊÄªÁªì"><a href="#ÂÆûÈ™åÊÄªÁªì" class="headerlink" title="ÂÆûÈ™åÊÄªÁªì"></a>ÂÆûÈ™åÊÄªÁªì</h3><p>Êú¨Ê¨°ÂÆûÈ™å‰ΩøÁî® Pandas ÂØπÊï∞ÊçÆËøõË°å‰∫Ü‰∏ÄÂÆöÁ®ãÂ∫¶ÁöÑÂàÜÊûêÂíåÊé¢Á¥¢Ôºå‰∫§ÂèâË°®„ÄÅÈÄèËßÜË°®Á≠âÊñπÊ≥ïÁöÑËøêÁî®Â∞Ü‰Ωø‰Ω†Âú®Êï∞ÊçÆÊé¢Á¥¢ËøáÁ®ã‰∏≠‰∫ãÂçäÂäüÂÄç„ÄÇ</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://edlison.com/blog/2020/05/17/mlsec/%E4%BD%BF%E7%94%A8-Pandas-%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2/" data-id="ckaat5boh0004vaoja9j402id" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-notebook/anaconda" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/05/14/notebook/anaconda/" class="article-date">
  <time datetime="2020-05-14T11:15:25.527Z" itemprop="datePublished">2020-05-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/05/14/notebook/anaconda/">notebook/anaconda</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="MacOSÂÆâË£ÖAnaconda"><a href="#MacOSÂÆâË£ÖAnaconda" class="headerlink" title="MacOSÂÆâË£ÖAnaconda"></a>MacOSÂÆâË£ÖAnaconda</h1><h2 id="condaÈÖçÁΩÆÊñá‰ª∂"><a href="#condaÈÖçÁΩÆÊñá‰ª∂" class="headerlink" title="condaÈÖçÁΩÆÊñá‰ª∂"></a>condaÈÖçÁΩÆÊñá‰ª∂</h2><p>‰ΩçÁΩÆ<br><code>~/.condarc</code></p>
<p>ÈÖçÁΩÆzshÁéØÂ¢ÉÂèòÈáè<br><code>export PATH=/Applications/anaconda3/bin:$PATH</code></p>
<h2 id="condaÈïúÂÉèÊ∫ê"><a href="#condaÈïúÂÉèÊ∫ê" class="headerlink" title="condaÈïúÂÉèÊ∫ê"></a>condaÈïúÂÉèÊ∫ê</h2><p>Ê∑ªÂä†ÈïúÂÉèÊåá‰ª§(‰∫¶ÂèØ‰ª•Áõ¥Êé•Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä†)<br><code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</code><br><code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge</code><br><code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/</code>  </p>
<p>ËÆæÁΩÆÊêúÁ¥¢Êó∂ÊòæÁ§∫ÈÄöÈÅìÂú∞ÂùÄ<br><code>conda config --set show_channel_urls yes</code></p>
<h2 id="shellËôöÊãüÁéØÂ¢É"><a href="#shellËôöÊãüÁéØÂ¢É" class="headerlink" title="shellËôöÊãüÁéØÂ¢É"></a>shellËôöÊãüÁéØÂ¢É</h2><p><strong>ÂèñÊ∂àÂëΩ‰ª§Ë°åÂâçÂá∫Áé∞ÁöÑ(base)</strong></p>
<ul>
<li><p>ÊØèÊ¨°Âú®ÂëΩ‰ª§Ë°åÈÄöËøá<code>conda deactivate</code>ÈÄÄÂá∫baseÁéØÂ¢ÉÂõûÂà∞Á≥ªÁªüËá™Âä®ÁöÑÁéØÂ¢É</p>
</li>
<li><p><code>conda config --set auto_activate_base false</code></p>
</li>
</ul>
<h2 id="ÂÆâË£ÖTensorFlowÁéØÂ¢É"><a href="#ÂÆâË£ÖTensorFlowÁéØÂ¢É" class="headerlink" title="ÂÆâË£ÖTensorFlowÁéØÂ¢É"></a>ÂÆâË£ÖTensorFlowÁéØÂ¢É</h2><p>Êñ∞Âª∫‰∏Ä‰∏™tfÁéØÂ¢É<br><code>conda create -n tensorflow python=3.7</code></p>
<p>ËøõÂÖ•tfÁéØÂ¢É<br><code>conda activate tensorflow</code></p>
<p>pipÂÆâË£Ötf<br><code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple tensorflow</code></p>
<h2 id="Âç∏ËΩΩ"><a href="#Âç∏ËΩΩ" class="headerlink" title="Âç∏ËΩΩ"></a>Âç∏ËΩΩ</h2><p>ÂÆâË£ÖcleanÂåÖ<br><code>conda install anaconda-clean</code></p>
<p>Êñá‰ª∂ËøõË°åÂà†Èô§<br><code>anaconda-clean</code></p>
<p>Âà†Èô§Anaconda‰∏ªÊñá‰ª∂ÂåÖ(ÈªòËÆ§Ë∑ØÂæÑ)<br><code>/opt/anaconda3</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://edlison.com/blog/2020/05/14/notebook/anaconda/" data-id="cka6qc6cn0000ojoj8pr1cjjo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-notebook/docker" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/05/12/notebook/docker/" class="article-date">
  <time datetime="2020-05-12T15:13:18.969Z" itemprop="datePublished">2020-05-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/05/12/notebook/docker/">notebook/docker</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Docker-amp-Docker-Compose"><a href="#Docker-amp-Docker-Compose" class="headerlink" title="Docker &amp; Docker-Compose"></a>Docker &amp; Docker-Compose</h1><h2 id="ËøêË°ådocker"><a href="#ËøêË°ådocker" class="headerlink" title="ËøêË°ådocker"></a>ËøêË°ådocker</h2><p><code>$ service docker start</code></p>
<h2 id="ËøêË°åÂÆπÂô®"><a href="#ËøêË°åÂÆπÂô®" class="headerlink" title="ËøêË°åÂÆπÂô®"></a>ËøêË°åÂÆπÂô®</h2><p><code>docker run -i -t -p 11000:8888 continuumio/anaconda3 /bin/bash</code><br><code>-d</code>detachÁõ¥Êé•ÂêéÂè∞ËøêË°å</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-i: ÊòØ  ‰ª•‰∫§‰∫íÊ®°ÂºèËøêË°åÂÆπÂô®ÔºåÈÄöÂ∏∏‰∏é -t ÂêåÊó∂‰ΩøÁî®Ôºõ</span><br><span class="line">-t: ‰∏∫ÂÆπÂô®ÈáçÊñ∞ÂàÜÈÖç‰∏Ä‰∏™‰º™ËæìÂÖ•ÁªàÁ´ØÔºåÈÄöÂ∏∏‰∏é -i ÂêåÊó∂‰ΩøÁî®Ôºõ</span><br><span class="line">-p: ÊåáÂÆöÁ´ØÂè£Êò†Â∞ÑÔºåÊ†ºÂºè‰∏∫Ôºö‰∏ªÊú∫(ÂÆø‰∏ª)Á´ØÂè£:ÂÆπÂô®Á´ØÂè£</span><br></pre></td></tr></table></figure>

<p><strong>ÈÄÄÂá∫ÂÆπÂô®Âπ∂‰øùÂ≠òÂú®ÂêéÂè∞</strong><br><code>Control + P + Q</code></p>
<p><strong>ËøõÂÖ•ÂÆπÂô®</strong><br><code>docker exec -it name /bin/bash</code><br>Ê≠§Êó∂<code>exit</code>‰∏ç‰ºöÂÖ≥Èó≠ÂÆπÂô®</p>
<p><strong>Êü•ÁúãËøêË°åÁöÑÂÆπÂô®</strong><br><code>docker ps -a</code></p>
<h2 id="Êò†Â∞ÑÊàñÊåÇËΩΩ-ÈáçË¶Å"><a href="#Êò†Â∞ÑÊàñÊåÇËΩΩ-ÈáçË¶Å" class="headerlink" title="Êò†Â∞ÑÊàñÊåÇËΩΩ(ÈáçË¶Å)"></a>Êò†Â∞ÑÊàñÊåÇËΩΩ(ÈáçË¶Å)</h2><p><code>ÂÆø‰∏ªÊú∫:ÈïúÂÉè</code></p>
<p><strong>ÈªòËÆ§ÊåÇËΩΩË∑ØÂæÑ</strong><br><code>/var/lib/docker/volumes</code></p>
<h2 id="ÈïúÂÉèÁõ∏ÂÖ≥"><a href="#ÈïúÂÉèÁõ∏ÂÖ≥" class="headerlink" title="ÈïúÂÉèÁõ∏ÂÖ≥"></a>ÈïúÂÉèÁõ∏ÂÖ≥</h2><p><strong>ÁîüÊàêÈïúÂÉè</strong><br><code>docker commit -a &quot;username&quot; -m &quot;msg&quot; container_name new_image_name</code></p>
<p><strong>‰∏ä‰º†ÈïúÂÉè</strong><br>Â∞ÜÊâìÂåÖÂ•ΩÁöÑÊñ∞ÈïúÂÉè‰∏ä‰º†Âà∞ Docker HubÔºö</p>
<p>È¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜËøô‰∏™Êñ∞ÈïúÂÉèÊâì‰∏ä tagÔºåÊñπ‰æøÂú®ÂÖ¨ÂÖ±ÊúçÂä°Âô®ËøõË°å‰∏ä‰º†Ôºö</p>
<p><code>docker tag new_anaconda_xgboost:latest nimendavid/machine_learning:v0.1</code></p>
<p>ÂÖ∂‰∏≠:</p>
<p><code>new_anaconda_xgboost:latest</code><br>(Êú¨Âú∞ÈïúÂÉèÂêçÁß∞:tag)</p>
<p>ÂèØ‰ª•ÈÄöËøá <code>docker image ls</code> Êü•Áúã<br><code>nimendavid/machine_learning:v0.1</code></p>
<p>Ê†ºÂºèÊòØ(dockerhubÁî®Êà∑Âêç/‰ªìÂ∫ìÂêç:tag)  ÔºåÈúÄË¶ÅËá™Â∑±Êúâ‰∏Ä‰∏™dockerhubË¥¶Âè∑Ôºåv0.1Â∞±ÊòØËá™ÂÆö‰πâÁöÑÁâàÊú¨Âè∑Á†Å</p>
<p>ÁÑ∂ÂêéËÆ∞ÂæóÁôªÂΩïÂú®ÊúçÂä°Âô®‰∏ädockerhubÔºåÂê¶ÂàôÊé®ÈÄÅ‰ºöÊä•ÈîôÔºö</p>
<p><code>docker login</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://edlison.com/blog/2020/05/12/notebook/docker/" data-id="cka42jy1o0000croje1w30mwa" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-notebook/nginx" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/05/12/notebook/nginx/" class="article-date">
  <time datetime="2020-05-12T02:38:10.989Z" itemprop="datePublished">2020-05-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/05/12/notebook/nginx/">notebook/nginx</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h1><p>Ê£ÄÊµãÈÖçÁΩÆÊñá‰ª∂<br><code>nginx -t</code></p>
<p>ÈáçÂêØÊúçÂä°<br><code>nginx -s reload</code></p>
<p>Ëã•ÈáçÂêØÊä•Èîô ÂÖàËøêË°å<br><code>nginx -c /etc/nginx/nginx.conf</code></p>
<p>SSL config</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">  server &#123;</span><br><span class="line">      listen       80 default_server;</span><br><span class="line">      listen       [::]:80 default_server;</span><br><span class="line">      server_name  api.gfgf.tech;</span><br><span class="line">      root         &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html;</span><br><span class="line"></span><br><span class="line">   return 301 https:&#x2F;&#x2F;$server_name$request_uri;</span><br><span class="line"></span><br><span class="line">      # Load configuration files for the default server block.</span><br><span class="line">      include &#x2F;etc&#x2F;nginx&#x2F;default.d&#x2F;*.conf;</span><br><span class="line"></span><br><span class="line">      location &#x2F; &#123;</span><br><span class="line">              proxy_pass http:&#x2F;&#x2F;127.0.0.1:21000;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      error_page 404 &#x2F;404.html;</span><br><span class="line">          location &#x3D; &#x2F;40x.html &#123;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      error_page 500 502 503 504 &#x2F;50x.html;</span><br><span class="line">          location &#x3D; &#x2F;50x.html &#123;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  server &#123;</span><br><span class="line">      listen       443 ssl http2 default_server;</span><br><span class="line">      listen       [::]:443 ssl http2 default_server;</span><br><span class="line">      server_name  api.gfgf.tech;</span><br><span class="line">      root         &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html;</span><br><span class="line"></span><br><span class="line">      ssl_certificate &quot;&#x2F;root&#x2F;.acme.sh&#x2F;api.gfgf.tech&#x2F;api.gfgf.tech.cer&quot;;</span><br><span class="line">      ssl_certificate_key &quot;&#x2F;root&#x2F;.acme.sh&#x2F;api.gfgf.tech&#x2F;api.gfgf.tech.key&quot;;</span><br><span class="line">      ssl_session_cache shared:SSL:1m;</span><br><span class="line">      ssl_session_timeout  10m;</span><br><span class="line">      ssl_ciphers HIGH:!aNULL:!MD5;</span><br><span class="line">      ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">      # Load configuration files for the default server block.</span><br><span class="line">      include &#x2F;etc&#x2F;nginx&#x2F;default.d&#x2F;*.conf;</span><br><span class="line"></span><br><span class="line">      location &#x2F; &#123;</span><br><span class="line">proxy_pass http:&#x2F;&#x2F;localhost:21000;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      error_page 404 &#x2F;404.html;</span><br><span class="line">          location &#x3D; &#x2F;40x.html &#123;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      error_page 500 502 503 504 &#x2F;50x.html;</span><br><span class="line">          location &#x3D; &#x2F;50x.html &#123;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://edlison.com/blog/2020/05/12/notebook/nginx/" data-id="cka3bx7ok0001cmojeiyx0358" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-notebook/docker-chevereto" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/05/12/notebook/docker-chevereto/" class="article-date">
  <time datetime="2020-05-11T16:42:22.347Z" itemprop="datePublished">2020-05-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/05/12/notebook/docker-chevereto/">notebook/docker-chevereto</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="‰ΩøÁî®DockerÊê≠Âª∫ÂõæÂ∫ä"><a href="#‰ΩøÁî®DockerÊê≠Âª∫ÂõæÂ∫ä" class="headerlink" title="‰ΩøÁî®DockerÊê≠Âª∫ÂõæÂ∫ä"></a>‰ΩøÁî®DockerÊê≠Âª∫ÂõæÂ∫ä</h1><p>ÂÆâË£ÖÂÆπÂô®ÁºñÊéíÂ∑•ÂÖ∑Compose<br><code>pip3 install docker-compose</code></p>
<p>pullÈïúÂÉè<br><code>docker pull mariadb:latest</code><br><code>docker pull nmtan/chevereto:latest</code>  </p>
<p>‰ΩøÁî®Docker-ComposeÂêØÂä®<br><code>mkdir cheverto/</code><br><code>cd cheverto</code><br><code>touch docker-compose.yaml</code></p>
<p>docker-compose.yamlÈÖçÁΩÆÊñá‰ª∂</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mariadb</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">database:/var/lib/mysql:rw</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">private</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">chevereto_root</span></span><br><span class="line">      <span class="attr">MYSQL_DATABASE:</span> <span class="string">chevereto</span></span><br><span class="line">      <span class="attr">MYSQL_USER:</span> <span class="string">chevereto</span></span><br><span class="line">      <span class="attr">MYSQL_PASSWORD:</span> <span class="string">chevereto</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">chevereto:</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nmtan/chevereto</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">private</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">CHEVERETO_DB_HOST:</span> <span class="string">db</span></span><br><span class="line">      <span class="attr">CHEVERETO_DB_USERNAME:</span> <span class="string">chevereto</span></span><br><span class="line">      <span class="attr">CHEVERETO_DB_PASSWORD:</span> <span class="string">chevereto</span></span><br><span class="line">      <span class="attr">CHEVERETO_DB_NAME:</span> <span class="string">chevereto</span></span><br><span class="line">      <span class="attr">CHEVERETO_DB_PREFIX:</span> <span class="string">chv_</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">chevereto_images:/var/www/html/images:rw</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">chevereto_php_config:/usr/local/etc/php:rw</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">12000</span><span class="string">:80</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">private:</span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">database:</span></span><br><span class="line">  <span class="attr">chevereto_images:</span></span><br><span class="line">  <span class="attr">chevereto_php_config:</span></span><br></pre></td></tr></table></figure>

<p>ÂØπÂ∫îÊåÇËΩΩÂà∞ÂΩìÂâçÊñá‰ª∂Â§π‰∏≠ÁöÑphp.iniÊñá‰ª∂(<strong>Ê≥®ÊÑè</strong> php.iniÊñá‰ª∂ÈúÄË¶ÅÂÖàÂàõÂª∫ Âê¶Âàôdocker‰ºöËá™Âä®ÂàõÂª∫ÂêåÂêçÊñá‰ª∂Â§π)<br><code>- ./php.ini:/usr/local/etc/php/php.ini:rw</code></p>
<p>php.ini</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">memory_limit</span> = <span class="number">256</span>M<span class="comment">;</span></span><br><span class="line"><span class="attr">upload_max_filesize</span> = <span class="number">100</span>M<span class="comment">;</span></span><br><span class="line"><span class="attr">post_max_size</span> = <span class="number">100</span>M<span class="comment">;</span></span><br></pre></td></tr></table></figure>

<p>ËøêË°åDocker-Compose<br><code>docker-compose up -d</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://edlison.com/blog/2020/05/12/notebook/docker-chevereto/" data-id="cka3bx7od0000cmoj3rt32a1i" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-notebook/docker-anaconda" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/05/11/notebook/docker-anaconda/" class="article-date">
  <time datetime="2020-05-11T09:32:03.053Z" itemprop="datePublished">2020-05-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/05/11/notebook/docker-anaconda/">notebook/docker-anaconda</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="‰ΩøÁî®DockerÈÖçÁΩÆAnacondaÁéØÂ¢ÉËøêË°åJupyter"><a href="#‰ΩøÁî®DockerÈÖçÁΩÆAnacondaÁéØÂ¢ÉËøêË°åJupyter" class="headerlink" title="‰ΩøÁî®DockerÈÖçÁΩÆAnacondaÁéØÂ¢ÉËøêË°åJupyter"></a>‰ΩøÁî®DockerÈÖçÁΩÆAnacondaÁéØÂ¢ÉËøêË°åJupyter</h1><h2 id="ÈÖçÁΩÆAnacondaÁéØÂ¢É"><a href="#ÈÖçÁΩÆAnacondaÁéØÂ¢É" class="headerlink" title="ÈÖçÁΩÆAnacondaÁéØÂ¢É"></a>ÈÖçÁΩÆAnacondaÁéØÂ¢É</h2><p><strong>ÊåÇËΩΩ</strong></p>
<ul>
<li><p>Êñá‰ª∂Â§πÊåÇËΩΩ<br><code>-v /root/notebook:/notebook</code><br>(ÂÆø‰∏ªÊú∫ÁõÆÂΩï:ÈïúÂÉèÂÜÖÊåÇËΩΩÁõÆÂΩï)</p>
</li>
<li><p><em>ÈÖçÁΩÆÊñá‰ª∂ÊåÇËΩΩ</em>(ÁîüÊàêÁöÑÊñá‰ª∂Â§π)<br><code>-v /root/docker/config/anaconda3/jupyter_notebook_config.json:/root/.jupyter/jupyter_notebook_config.json</code></p>
</li>
</ul>
<p><strong>Example</strong><br><code>docker run -i -t -p 11000:8888 -v ~/notebook:/notebook -v ~/docker/config/jupyter:/root/.jupyter continuumio/anaconda3 /bin/bash</code><br>ÊåÇËΩΩÂèÇÊï∞Ë¶ÅÂú®ÂÆπÂô®Ââç</p>
<h2 id="ÈÖçÁΩÆJupyter-Notebook"><a href="#ÈÖçÁΩÆJupyter-Notebook" class="headerlink" title="ÈÖçÁΩÆJupyter Notebook"></a>ÈÖçÁΩÆJupyter Notebook</h2><p><code>jupyter notebook --allow-root</code></p>
<p>ÂêØÂä®Notebook<br><code>jupyter notebook --port 8888 --ip 0.0.0.0 --allow-root</code></p>
<p>ÂêéÂè∞ËøêË°åNotebook<br><code>nohup jupyter notebook --port 8888 --ip 0.0.0.0 --allow-root &amp;</code></p>
<p><strong>Áõ∏ÂÖ≥ÈÖçÁΩÆ</strong></p>
<p>ÈÖçÁΩÆÊñá‰ª∂</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">c = get_config()</span><br><span class="line">c.IPKernelApp.pylab = <span class="string">"inline"</span></span><br><span class="line">c.NotebookApp.ip = <span class="string">"*"</span></span><br><span class="line">c.NotebookAPp.open_browser = <span class="literal">False</span></span><br><span class="line">c.NotebookApp.password = <span class="string">'sha1:5295d47ebd06:cdca9499f90b4b4616c935fdff61dda71e1e4393'</span></span><br><span class="line"><span class="comment"># c.NotebookApp.certfile = u'/root/.jupyter/mycert.pem'</span></span><br><span class="line">c.NotebookApp.port= <span class="number">8888</span></span><br><span class="line">c.NotebookApp.notebook_dir = <span class="string">"/"</span></span><br></pre></td></tr></table></figure>



<p><em>docker-composeÈÖçÁΩÆÂá∫ÈóÆÈ¢òÔºü</em></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">notebook:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">continuumio/anaconda3</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">"no"</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">~/notebook:/notebook</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">~/docker/config/jupyter:/root/.jupyter</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"11000:80"</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://edlison.com/blog/2020/05/11/notebook/docker-anaconda/" data-id="cka2g01nt0000vaojalhw1r0q" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/blog/">&amp;laquo; ‰∏ä‰∏ÄÈ°µ</a><a class="page-number" href="/blog/">1</a><span class="page-number current">2</span><a class="page-number" href="/blog/page/3/">3</a><a class="page-number" href="/blog/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/7/">7</a><a class="extend next" rel="next" href="/blog/page/3/">‰∏ã‰∏ÄÈ°µ &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">ÂΩíÊ°£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/09/">‰πùÊúà 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/08/">ÂÖ´Êúà 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/07/">‰∏ÉÊúà 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/06/">ÂÖ≠Êúà 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/05/">‰∫îÊúà 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/04/">ÂõõÊúà 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/03/">‰∏âÊúà 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">ÊúÄÊñ∞ÊñáÁ´†</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2020/09/15/notebook/docker-lineloss/">notebook/docker-lineloss</a>
          </li>
        
          <li>
            <a href="/blog/2020/09/13/paper/AttentionIsAllYouNeed/">paper/AttentionIsAllYouNeed</a>
          </li>
        
          <li>
            <a href="/blog/2020/08/16/notebook/Authentication&Authorization/">notebook/Authentication&amp;Authorization</a>
          </li>
        
          <li>
            <a href="/blog/2020/08/02/nlp/word2vec/">nlp/word2vec</a>
          </li>
        
          <li>
            <a href="/blog/2020/07/26/nlp/week-2/">nlp/week-2</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Bolin Shen<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">

  
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/blog/js/script.js"></script>




  </div>
</body>
</html>